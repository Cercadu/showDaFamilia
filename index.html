<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ® SHOW DA FAMÃLIA - EdiÃ§Ã£o Definitiva ğŸ†</title>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --primary: #4f46e5;
      --secondary: #f59e0b;
      --success: #10b981;
      --danger: #ef4444;
      --warning: #f59e0b;
      --info: #3b82f6;
      --dark: #0f172a;
      --light: #f8fafc;
      --gray-700: #374151;
      --gray-800: #1f2937;
      --family-red: #ef4444;
      --family-blue: #3b82f6;
      --family-yellow: #f59e0b;
      --family-green: #10b981;
      --family-purple: #8b5cf6;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: linear-gradient(135deg, #0f172a 0%, #1e40af 100%);
      color: var(--light);
      font-family: 'Nunito', system-ui, sans-serif;
      min-height: 100vh;
      padding: 20px;
      overflow-x: hidden;
    }

    #app { max-width: 1400px; margin: 0 auto; padding: 20px; }

    .main-card {
      background: rgba(15, 23, 42, 0.95);
      border-radius: 24px;
      padding: 30px;
      box-shadow: 0 10px 40px rgba(79, 70, 229, 0.3), 0 0 60px rgba(245, 158, 11, 0.1);
      border: 3px solid rgba(79, 70, 229, 0.3);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }

    .game-header {
      text-align: center;
      margin-bottom: 40px;
      padding: 25px;
      background: linear-gradient(90deg,
        var(--family-red),
        var(--family-yellow),
        var(--family-green),
        var(--family-blue),
        var(--family-purple));
      border-radius: 20px;
      position: relative;
      overflow: hidden;
      animation: headerGlow 3s infinite alternate;
    }

    .game-header h1 {
      font-family: 'Comic Neue', cursive;
      font-size: 4rem;
      color: white;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3), 0 0 30px rgba(255, 255, 255, 0.5);
      margin-bottom: 10px;
      animation: textGlow 2s ease-in-out infinite alternate;
    }

    .game-subtitle {
      font-size: 1.3rem;
      opacity: 0.95;
      color: white;
      font-weight: 600;
    }

    @keyframes headerGlow {
      0% { box-shadow: 0 0 20px var(--family-red); }
      25% { box-shadow: 0 0 20px var(--family-yellow); }
      50% { box-shadow: 0 0 20px var(--family-green); }
      75% { box-shadow: 0 0 20px var(--family-blue); }
      100% { box-shadow: 0 0 20px var(--family-purple); }
    }

    @keyframes textGlow {
      from { text-shadow: 0 0 20px rgba(255, 255, 255, 0.5); }
      to { text-shadow: 0 0 30px rgba(255, 255, 255, 0.8), 0 0 40px rgba(245, 158, 11, 0.6); }
    }

    @keyframes pulse { 0%{transform:scale(1)} 50%{transform:scale(1.05)} 100%{transform:scale(1)} }
    @keyframes bounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }
    @keyframes confettiRain { 0%{transform:translateY(-100vh) rotate(0deg)} 100%{transform:translateY(100vh) rotate(360deg)} }

    .btn {
      padding: 18px 28px;
      border: none;
      border-radius: 16px;
      font-size: 1.1rem;
      font-weight: 800;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin: 12px 0;
      width: 100%;
      font-family: 'Comic Neue', cursive;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .btn:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
    }

    .btn-primary { background: linear-gradient(135deg, var(--primary), #6366f1); color: white; }
    .btn-secondary { background: linear-gradient(135deg, var(--secondary), #fbbf24); color: white; }
    .btn-success { background: linear-gradient(135deg, var(--success), #34d399); color: white; }
    .btn-danger { background: linear-gradient(135deg, var(--danger), #f87171); color: white; }
    .btn-warning { background: linear-gradient(135deg, var(--warning), #fbbf24); color: white; }
    .btn-family { background: linear-gradient(135deg, var(--family-red), var(--family-yellow)); color: white; animation: pulse 2s infinite; }

    .top-controls {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 10px;
      z-index: 100;
    }

    .control-btn {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: none;
      background: rgba(15, 23, 42, 0.9);
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .control-btn:hover { transform: scale(1.1); background: rgba(79, 70, 229, 0.9); }

    .mode-selection {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin: 30px 0;
    }

    .mode-card {
      background: rgba(30, 41, 59, 0.8);
      border-radius: 20px;
      padding: 25px;
      border: 2px solid transparent;
      transition: all 0.3s;
      text-align: center;
      cursor: pointer;
    }

    .mode-card:hover {
      border-color: var(--secondary);
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(245, 158, 11, 0.2);
    }

    .mode-card.selected { border-color: var(--success); background: rgba(16, 185, 129, 0.1); }

    .mode-icon { font-size: 3rem; margin-bottom: 15px; }

    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin: 30px 0;
    }

    .setting-group { margin-bottom: 25px; }
    .setting-label { display: block; margin-bottom: 10px; font-size: 1.2rem; color: #cbd5e1; font-weight: 700; }

    .setting-input {
      width: 100%;
      padding: 18px 22px;
      border: 2px solid #334155;
      border-radius: 14px;
      font-size: 1.1rem;
      background: rgba(30, 41, 59, 0.9);
      color: white;
      transition: all 0.3s;
    }

    .setting-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.2);
    }

    .slider-value { text-align: center; font-size: 1.8rem; color: var(--secondary); font-weight: 900; margin-top: 10px; }

    .players-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .player-card {
      background: rgba(30, 41, 59, 0.9);
      border-radius: 18px;
      padding: 20px;
      text-align: center;
      border: 3px solid transparent;
      transition: all 0.3s;
      position: relative;
    }

    .player-card.current {
      border-color: var(--secondary);
      box-shadow: 0 0 30px rgba(245, 158, 11, 0.4);
      animation: pulse 2s infinite;
    }

    .player-avatar { font-size: 3.5rem; margin-bottom: 15px; display: block; animation: bounce 2s infinite; }

    .game-area {
      background: rgba(30, 41, 59, 0.95);
      border-radius: 24px;
      padding: 30px;
      margin: 30px 0;
      border-left: 8px solid var(--primary);
    }

    .turn-info { text-align: center; margin-bottom: 25px; padding: 15px; background: rgba(79, 70, 229, 0.2); border-radius: 15px; }
    .turn-text { font-size: 1.8rem; color: var(--secondary); font-weight: 900; }

    .category-badge {
      display: inline-block;
      padding: 10px 20px;
      background: rgba(79, 70, 229, 0.2);
      border-radius: 25px;
      font-size: 1rem;
      font-weight: 700;
      margin: 15px 0;
      color: #818cf8;
    }

    .question-container {
      min-height: 200px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 30px;
      margin: 30px 0;
      background: rgba(15, 23, 42, 0.7);
      border-radius: 20px;
      border: 3px solid var(--primary);
    }

    .question-text { font-size: 2.2rem; line-height: 1.5; color: white; font-weight: 700; text-align: center; }

    .answers-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .answer-option {
      padding: 25px;
      background: rgba(51, 65, 85, 0.9);
      border: 3px solid transparent;
      border-radius: 18px;
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
    }

    .answer-option:hover { background: rgba(71, 85, 105, 0.95); transform: translateX(10px); border-color: var(--info); }
    .answer-option.correct { background: linear-gradient(135deg, var(--success), #34d399); border-color: var(--success); animation: pulse 0.5s; }
    .answer-option.wrong { background: linear-gradient(135deg, var(--danger), #f87171); border-color: var(--danger); }

    .answer-letter { position: absolute; left: 20px; font-weight: 900; color: rgba(255, 255, 255, 0.3); font-size: 1.5rem; }
    .answer-content { margin-left: 50px; }

    .timer-container { margin: 25px 0; }
    .timer-bar { height: 15px; background: rgba(71, 85, 105, 0.5); border-radius: 10px; overflow: hidden; margin-bottom: 10px; }
    .timer-fill { height: 100%; background: linear-gradient(90deg, var(--success), var(--warning), var(--danger)); width: 100%; transition: width 1s linear; border-radius: 10px; }
    .timer-text { text-align: center; font-size: 1.3rem; color: var(--warning); font-weight: 700; }

    .powerups-container { display: flex; justify-content: center; gap: 20px; margin: 30px 0; flex-wrap: wrap; }

    .powerup-btn {
      padding: 15px 25px;
      background: rgba(139, 92, 246, 0.9);
      border: none;
      border-radius: 15px;
      color: white;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .powerup-btn:hover { transform: scale(1.1); background: rgba(139, 92, 246, 1); }
    .powerup-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

    .scoreboard {
      background: rgba(15, 23, 42, 0.95);
      border-radius: 20px;
      padding: 25px;
      margin: 30px 0;
      border: 3px solid rgba(79, 70, 229, 0.3);
    }

    .scoreboard-title { text-align: center; font-size: 2rem; margin-bottom: 25px; color: var(--secondary); font-weight: 900; }
    .scores-list { display: grid; gap: 15px; }

    .score-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      background: rgba(30, 41, 59, 0.7);
      border-radius: 15px;
      transition: all 0.3s;
      border-left: 5px solid transparent;
      gap: 10px;
    }

    .score-item.current { background: rgba(79, 70, 229, 0.2); border-left-color: var(--primary); }

    .score-player { font-weight: 800; font-size: 1.3rem; display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
    .score-points { font-weight: 900; font-size: 1.8rem; color: var(--secondary); }

    .results-screen { text-align: center; padding: 40px; }
    .winner-crown { font-size: 5rem; margin-bottom: 20px; animation: bounce 2s infinite; }
    .winner-title { font-size: 3rem; color: var(--secondary); margin-bottom: 20px; }
    .winner-score { font-size: 2.5rem; color: var(--warning); margin-bottom: 30px; }

    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: var(--dark);
      border-radius: 30px;
      padding: 40px;
      max-width: 800px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      border: 4px solid var(--secondary);
      animation: modalSlide 0.4s ease-out;
    }

    @keyframes modalSlide {
      from { opacity: 0; transform: translateY(-60px) scale(0.9); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    .confetti { position: fixed; width: 15px; height: 15px; pointer-events: none; z-index: 10000; animation: confettiRain 5s linear forwards; }

    .hidden { display: none !important; }
    .text-center { text-align: center; }
    .mt-20 { margin-top: 20px; }
    .mt-30 { margin-top: 30px; }
    .mb-20 { margin-bottom: 20px; }
    .mb-30 { margin-bottom: 30px; }

    @media (max-width: 1200px) {
      .game-header h1 { font-size: 3rem; }
      .answers-container { grid-template-columns: repeat(2, 1fr); }
    }

    @media (max-width: 768px) {
      .game-header h1 { font-size: 2.5rem; }
      .answers-container { grid-template-columns: 1fr; }
      .question-text { font-size: 1.8rem; }
      .mode-selection { grid-template-columns: 1fr; }
      .settings-grid { grid-template-columns: 1fr; }
      .players-grid { grid-template-columns: 1fr; }
      .powerups-container { flex-direction: column; align-items: center; }
      .top-controls { top: 10px; right: 10px; }
      .control-btn { width: 40px; height: 40px; font-size: 1rem; }
    }

    @media (max-width: 480px) {
      .game-header h1 { font-size: 2rem; }
      .btn { padding: 15px 20px; font-size: 1rem; }
      .modal-content { padding: 20px; }
      .winner-title { font-size: 2rem; }
    }
  </style>
</head>

<body>
<div id="app">
  <div class="main-card">

    <div class="top-controls">
      <button class="control-btn" id="audioToggle" title="Alternar som">
        <i class="fas fa-volume-up"></i>
      </button>
      <button class="control-btn" id="voiceToggle" title="Alternar voz">
        <i class="fas fa-microphone-alt"></i>
      </button>
      <button class="control-btn" onclick="showInstructions()" title="InstruÃ§Ãµes">
        <i class="fas fa-question"></i>
      </button>
      <button class="control-btn" onclick="showRecords()" title="Recordes">
        <i class="fas fa-trophy"></i>
      </button>
    </div>

    <header class="game-header">
      <h1>ğŸ® SHOW DA FAMÃLIA ğŸ®</h1>
      <p class="game-subtitle">O jogo mais completo para toda a famÃ­lia!</p>
    </header>

    <div id="welcomeScreen">
      <div class="text-center mb-30">
        <h2 style="font-size: 2.5rem; color: var(--secondary); margin-bottom: 20px;">
          <i class="fas fa-users"></i> BEM-VINDO, FAMÃLIA!
        </h2>
        <p style="font-size: 1.3rem; color: #cbd5e1; max-width: 800px; margin: 0 auto 30px;">
          Escolha o modo de jogo e prepare-se para horas de diversÃ£o, aprendizado e muitas risadas!
        </p>
      </div>

      <div class="setting-group">
        <label class="setting-label"><i class="fas fa-gamepad"></i> ESCOLHA O MODO DE JOGO</label>
        <div class="mode-selection">
          <div class="mode-card" onclick="selectMode('classic')">
            <div class="mode-icon">ğŸ†</div>
            <h3>CLÃSSICO</h3>
            <p>Todos contra todos, rodadas infinitas</p>
          </div>
          <div class="mode-card" onclick="selectMode('quick')">
            <div class="mode-icon">âš¡</div>
            <h3>RÃPIDO</h3>
            <p>5, 10 ou 15 rodadas por jogador</p>
          </div>
          <div class="mode-card" onclick="selectMode('duel')">
            <div class="mode-icon">âš”ï¸</div>
            <h3>DUELO X1</h3>
            <p>Batalha cara a cara, melhor de 3</p>
          </div>
          <div class="mode-card" onclick="selectMode('single')">
            <div class="mode-icon">ğŸ‘¤</div>
            <h3>UM JOGADOR</h3>
            <p>Desafie o computador sozinho</p>
          </div>
          <div class="mode-card" onclick="selectMode('teams')">
            <div class="mode-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div>
            <h3>TIMES</h3>
            <p>CrianÃ§as vs Adultos ou times mistos</p>
          </div>
          <div class="mode-card" onclick="selectMode('survival')">
            <div class="mode-icon">ğŸ”¥</div>
            <h3>SURVIVAL</h3>
            <p>Errou, sai! Ãšltimo sobrevivente ganha</p>
          </div>
          <div class="mode-card" onclick="selectMode('coop')">
            <div class="mode-icon">ğŸ¤</div>
            <h3>COOPERATIVO</h3>
            <p>Todos juntos contra o tempo</p>
          </div>
        </div>
      </div>

      <div class="settings-grid">
        <div class="setting-group">
          <label class="setting-label"><i class="fas fa-user-friends"></i> QUANTOS JOGADORES?</label>
          <input type="range" id="numPlayers" min="1" max="8" value="4" class="setting-input">
          <div class="slider-value" id="playerCount">4 JOGADORES</div>
        </div>

        <div class="setting-group">
          <label class="setting-label"><i class="fas fa-brain"></i> NÃVEL DE DIFICULDADE</label>
          <select id="difficulty" class="setting-input">
            <option value="easy">ğŸ¥‡ FÃCIL (Para todos)</option>
            <option value="medium" selected>ğŸ¥ˆ MÃ‰DIO (FamÃ­lia)</option>
            <option value="hard">ğŸ¥‡ DIFÃCIL (Experts)</option>
            <option value="expert">ğŸ‘‘ EXPERT (Desafio Total)</option>
            <option value="mixed">ğŸ² MISTURADO (Todos os nÃ­veis)</option>
          </select>
        </div>

        <div class="setting-group">
          <label class="setting-label"><i class="fas fa-flag-checkered"></i> QUANTAS RODADAS?</label>
          <select id="rounds" class="setting-input">
            <option value="5">5 Rodadas (RÃ¡pido)</option>
            <option value="10" selected>10 Rodadas (Normal)</option>
            <option value="15">15 Rodadas (Longo)</option>
            <option value="20">20 Rodadas (Maratona)</option>
            <option value="infinite">Infinitas (AtÃ© cansar!)</option>
          </select>
        </div>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 40px;">
        <button class="btn btn-family" onclick="setupPlayers()">
          <i class="fas fa-play-circle"></i> COMEÃ‡AR JOGO
        </button>
        <button class="btn btn-secondary" onclick="showQuickStats()">
          <i class="fas fa-chart-line"></i> ESTATÃSTICAS
        </button>
      </div>

      <div id="quickStats" class="scoreboard mt-30" style="display: none;">
        <h3 class="scoreboard-title"><i class="fas fa-chart-pie"></i> ESTATÃSTICAS DA FAMÃLIA</h3>
        <div id="statsList"></div>
      </div>
    </div>

    <div id="playerSetup" class="hidden">
      <h2 style="color: var(--secondary); margin-bottom: 30px; text-align: center;">
        <i class="fas fa-user-edit"></i> CONFIGURE OS JOGADORES
      </h2>

      <div class="players-grid" id="playersGrid"></div>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 40px;">
        <button class="btn btn-success" onclick="startGame()">
          <i class="fas fa-rocket"></i> INICIAR PARTIDA!
        </button>
        <button class="btn btn-secondary" onclick="backToMenu()">
          <i class="fas fa-arrow-left"></i> VOLTAR
        </button>
      </div>
    </div>

    <div id="gameScreen" class="hidden">
      <div class="turn-info">
        <div id="turnText" class="turn-text"></div>
        <div id="categoryDisplay" class="category-badge"></div>
      </div>

      <div class="timer-container">
        <div class="timer-bar">
          <div id="timerFill" class="timer-fill"></div>
        </div>
        <div id="timerText" class="timer-text">TEMPO: 30s</div>
      </div>

      <div class="game-area">
        <div class="question-container">
          <div id="questionDisplay" class="question-text"></div>
        </div>

        <div id="answersContainer" class="answers-container"></div>

        <div class="powerups-container">
          <button class="powerup-btn" onclick="usePowerUp('help')" id="helpBtn">
            <i class="fas fa-life-ring"></i> AJUDA DA FAMÃLIA (2)
          </button>
          <button class="powerup-btn" onclick="usePowerUp('time')" id="timeBtn">
            <i class="fas fa-clock"></i> TEMPO EXTRA (1)
          </button>
          <button class="powerup-btn" onclick="usePowerUp('double')" id="doubleBtn">
            <i class="fas fa-gem"></i> DUPLA PONTUAÃ‡ÃƒO (1)
          </button>
          <button class="powerup-btn" onclick="usePowerUp('skip')" id="skipBtn">
            <i class="fas fa-forward"></i> PULAR PERGUNTA (1)
          </button>
        </div>
      </div>

      <div class="scoreboard">
        <h3 class="scoreboard-title">
          <i class="fas fa-chart-bar"></i> PLACAR - RODADA
          <span id="currentRound">1</span>/<span id="totalRounds">10</span>
        </h3>
        <div id="scoreList" class="scores-list"></div>
      </div>

      <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-top: 30px;">
        <button class="btn btn-warning" onclick="pauseGame()">
          <i class="fas fa-pause"></i> PAUSAR
        </button>
        <button class="btn btn-info" onclick="showHint()" id="hintBtn">
          <i class="fas fa-lightbulb"></i> DICA (-3 pts)
        </button>
        <button class="btn btn-danger" onclick="confirmQuit()">
          <i class="fas fa-sign-out-alt"></i> SAIR
        </button>
      </div>
    </div>

    <div id="resultsScreen" class="hidden">
      <div class="results-screen">
        <div id="winnerCrown" class="winner-crown"></div>
        <h2 id="winnerTitle" class="winner-title"></h2>
        <div id="winnerScore" class="winner-score"></div>

        <div class="scoreboard mt-30">
          <h3 class="scoreboard-title"><i class="fas fa-chart-pie"></i> ESTATÃSTICAS DA PARTIDA</h3>
          <div id="gameStats" style="text-align: left; padding: 20px;"></div>
        </div>

        <div id="achievementsDisplay" class="scoreboard mt-30" style="display: none;">
          <h3 class="scoreboard-title"><i class="fas fa-medal"></i> CONQUISTAS DESBLOQUEADAS</h3>
          <div id="achievementsList"></div>
        </div>

        <div style="display: flex; gap: 15px; justify-content: center; margin-top: 40px; flex-wrap: wrap;">
          <button class="btn btn-family" onclick="rematch()">
            <i class="fas fa-redo"></i> REVANCHE
          </button>
          <button class="btn btn-success" onclick="newGame()">
            <i class="fas fa-plus-circle"></i> NOVA PARTIDA
          </button>
          <button class="btn btn-secondary" onclick="backToMenu()">
            <i class="fas fa-home"></i> MENU PRINCIPAL
          </button>
          <button class="btn btn-info" onclick="shareResults()">
            <i class="fas fa-share-alt"></i> COMPARTILHAR
          </button>
        </div>
      </div>
    </div>

  </div>
</div>

<div id="instructionsModal" class="modal-overlay">
  <div class="modal-content">
    <h2 style="color: var(--secondary); margin-bottom: 25px; text-align: center;">
      <i class="fas fa-graduation-cap"></i> COMO JOGAR - SHOW DA FAMÃLIA
    </h2>

    <div style="line-height: 1.8; font-size: 1.1rem;">
      <p style="color:#cbd5e1; margin-bottom: 15px;">
        Escolha o modo, configure jogadores e responda perguntas. Use power-ups com estratÃ©gia.
      </p>
      <ul style="list-style: none; padding-left: 10px;">
        <li style="margin: 10px 0; border-left: 3px solid var(--info); padding-left: 10px;"><strong>ClÃ¡ssico:</strong> sem limite prÃ¡tico (ou atÃ© acabar sua paciÃªncia).</li>
        <li style="margin: 10px 0; border-left: 3px solid var(--success); padding-left: 10px;"><strong>RÃ¡pido:</strong> nÃºmero fixo de rodadas.</li>
        <li style="margin: 10px 0; border-left: 3px solid var(--warning); padding-left: 10px;"><strong>Duelo:</strong> 1x1 (melhor de 3 vocÃª pode adaptar).</li>
        <li style="margin: 10px 0; border-left: 3px solid var(--family-purple); padding-left: 10px;"><strong>Um Jogador:</strong> desafie o computador sozinho.</li>
        <li style="margin: 10px 0; border-left: 3px solid var(--family-blue); padding-left: 10px;"><strong>Times:</strong> crianÃ§as vs adultos.</li>
        <li style="margin: 10px 0; border-left: 3px solid var(--danger); padding-left: 10px;"><strong>Survival:</strong> errou/tempo acabou, eliminou.</li>
        <li style="margin: 10px 0; border-left: 3px solid var(--family-blue); padding-left: 10px;"><strong>Coop:</strong> joguem juntos (regras podem ser ajustadas).</li>
      </ul>
    </div>

    <button class="btn btn-primary mt-30" onclick="closeModal('instructionsModal')">
      <i class="fas fa-thumbs-up"></i> ENTENDI, VAMOS JOGAR!
    </button>
  </div>
</div>

<div id="recordsModal" class="modal-overlay">
  <div class="modal-content">
    <h2 style="color: var(--warning); margin-bottom: 25px; text-align: center;">
      <i class="fas fa-trophy"></i> HALL DA FAMA DA FAMÃLIA
    </h2>
    <div id="hallOfFame"></div>
    <button class="btn btn-secondary mt-30" onclick="closeModal('recordsModal')">
      <i class="fas fa-times"></i> FECHAR
    </button>
  </div>
</div>

<script>
  // ============================================
  // CONFIGURAÃ‡Ã•ES GLOBAIS
  // ============================================
  const GameConfig = {
    audioEnabled: true,
    voiceEnabled: true,
    speechRate: 1.5,
    version: '2.1.0'
  };

  const GameState = {
    mode: 'classic',
    difficulty: 'medium',
    players: [],
    scores: [],
    streaks: [],
    powerUps: [],
    isSinglePlayer: false,

    currentPlayer: 0,
    currentRound: 1,
    totalRounds: 10,
    questions: [],
    usedQuestions: new Set(),

    gameActive: false,
    timer: 30,
    timerInterval: null,
    doublePoints: false,
    gamePaused: false,

    currentQuestionIndex: null,
    currentCorrectIndex: null,
    currentCategoryKey: null,
    currentPoints: null,
    questionStartAt: null,

    stats: {
      totalQuestions: 0,
      correctAnswers: 0,
      fastestAnswer: 999,
      categories: {},
      powerUpsUsed: 0,
      hintsUsed: 0,
      startTime: null,
      achievements: new Set()
    },

    records: []
  };

  // ============================================
  // BANCO DE VOZES MELHORADAS
  // ============================================
  const VoiceMessages = {
    correctAnswers: [
      "Excelente resposta! VocÃª acertou em cheio!",
      "ParabÃ©ns! Resposta correta!",
      "Muito bem! VocÃª estÃ¡ mandando bem!",
      "Acertou! Isso aÃ­!",
      "Correto! Continue assim!",
      "Perfeito! Resposta certa!",
      "Isso mesmo! VocÃª Ã© um gÃªnio!",
      "Certa resposta! Muito bom!",
      "Acertou! Que conhecimento!",
      "Excelente! Resposta correta!"
    ],

    wrongAnswers: [
      "Que pena! A resposta correta era outra.",
      "Errado! Mas continue tentando!",
      "NÃ£o foi dessa vez! A resposta certa era outra.",
      "Ops! Resposta incorreta.",
      "Errou! Mas nÃ£o desanime!",
      "NÃ£o foi essa! A resposta correta era diferente.",
      "Incorreto! Tente na prÃ³xima.",
      "Que pena! Errou a resposta.",
      "NÃ£o acertou! Continue participando!",
      "Resposta errada! Mas vocÃª vai melhorar!"
    ],

    timeUp: [
      "Tempo esgotado! Mais rÃ¡pido na prÃ³xima.",
      "Acabou o tempo! Resposta automÃ¡tica errada.",
      "O tempo terminou! Vamos para a prÃ³xima.",
      "Fim do tempo! Continue tentando."
    ],

    funnyComments: [
      "Essa foi difÃ­cil, hein?",
      "AtÃ© eu demorei pra pensar nessa!",
      "Que pergunta interessante!",
      "Essa Ã© para os experts!",
      "Hmmm, essa requer atenÃ§Ã£o!",
      "Desafio lanÃ§ado!",
      "Essa vai fazer pensar!",
      "Preparado para esse desafio?",
      "Vamos ver quem sabe essa!",
      "Essa Ã© para testar os conhecimentos!"
    ],

    achievements: [
      "Conquista desbloqueada! ParabÃ©ns!",
      "TrofÃ©u ganho! Excelente!",
      "Medalha conquistada! Continue assim!",
      "FaÃ§anha realizada! Impressionante!"
    ]
  };

  // ============================================
  // SISTEMA DE VOZ MELHORADO
  // ============================================
  const VoiceSystem = {
    isSpeaking: false,
    currentVoice: null,

    speak(text, type = 'normal') {
      if (!GameConfig.voiceEnabled || !('speechSynthesis' in window)) return;

      this.stop();

      // Adicionar emoÃ§Ã£o baseada no tipo
      let finalText = text;
      let rate = GameConfig.speechRate;
      let pitch = 1.5;

      switch(type) {
        case 'correct':
          rate = 1.2;
          pitch = 1.1;
          break;
        case 'wrong':
          rate = 0.9;
          pitch = 0.9;
          break;
        case 'excited':
          rate = 1.3;
          pitch = 1.2;
          break;
        case 'calm':
          rate = 0.8;
          pitch = 1.0;
          break;
      }

      const utterance = new SpeechSynthesisUtterance(finalText);
      utterance.lang = 'pt-BR';
      utterance.rate = rate;
      utterance.pitch = pitch;
      utterance.volume = 1;

      // Tentar usar voz em portuguÃªs
      const voices = window.speechSynthesis.getVoices();
      const portugueseVoices = voices.filter(v => v.lang.startsWith('pt'));

      if (portugueseVoices.length > 0) {
        utterance.voice = portugueseVoices[0];
      }

      this.isSpeaking = true;
      this.currentVoice = utterance;

      utterance.onend = () => {
        this.isSpeaking = false;
        this.currentVoice = null;
      };

      utterance.onerror = () => {
        this.isSpeaking = false;
        this.currentVoice = null;
      };

      window.speechSynthesis.speak(utterance);
    },

    stop() {
      if (this.isSpeaking) {
        window.speechSynthesis.cancel();
        this.isSpeaking = false;
        this.currentVoice = null;
      }
    },

    getRandomMessage(type) {
      const messages = VoiceMessages[type] || VoiceMessages.funnyComments;
      return messages[Math.floor(Math.random() * messages.length)];
    }
  };

  // ============================================
  // SISTEMA DE SONS SIMPLES
  // ============================================
  const SoundSystem = {
    playSound(type) {
      if (!GameConfig.audioEnabled) return;

      try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        switch(type) {
          case 'click':
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            oscillator.start();
            oscillator.stop(audioContext.currentTime + 0.1);
            break;

          case 'correct':
            oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime);
            oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1);
            oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2);
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            oscillator.start();
            oscillator.stop(audioContext.currentTime + 0.5);
            break;

          case 'wrong':
            oscillator.frequency.setValueAtTime(220, audioContext.currentTime);
            oscillator.frequency.setValueAtTime(196, audioContext.currentTime + 0.1);
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
            oscillator.start();
            oscillator.stop(audioContext.currentTime + 0.3);
            break;

          case 'timer':
            oscillator.frequency.setValueAtTime(600, audioContext.currentTime);
            gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
            oscillator.start();
            oscillator.stop(audioContext.currentTime + 0.2);
            break;
        }
      } catch (e) {
        console.log('Som nÃ£o disponÃ­vel');
      }
    }
  };

 // ============================================
// BANCO DE DADOS DE PERGUNTAS (REVISADO E AMPLIADO)
// ============================================
const QuestionsDB = {
  easy: [
    // MATEMÃTICA (30 perguntas)
    {q: 'ğŸ§® Quanto Ã© 7 + 8?', a: ['15', '16', '14', '13'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Qual Ã© o dobro de 9?', a: ['18', '16', '20', '11'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Quanto Ã© 12 - 5?', a: ['7', '8', '6', '9'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Quanto Ã© 6 Ã— 4?', a: ['24', '20', '28', '18'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Quanto Ã© 18 Ã· 3?', a: ['6', '5', '9', '7'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Qual Ã© a metade de 16?', a: ['8', '6', '10', '12'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Quanto Ã© 9 + 6?', a: ['15', '16', '14', '13'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Quanto Ã© 11 - 4?', a: ['7', '8', '6', '5'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Quanto Ã© 5 Ã— 5?', a: ['25', '20', '30', '15'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Quanto Ã© 21 Ã· 7?', a: ['3', '2', '4', '7'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Quanto Ã© 14 + 9?', a: ['23', '22', '24', '25'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Qual Ã© o triplo de 7?', a: ['21', '24', '18', '14'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Quanto Ã© 30 - 12?', a: ['18', '17', '19', '16'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Quanto Ã© 8 Ã— 3?', a: ['24', '21', '27', '20'], c: 0, cat: 'matematica', p: 5},
    {q: 'ğŸ§® Quanto Ã© 32 Ã· 8?', a: ['4', '3', '5', '6'], c: 0, cat: 'matematica', p: 5},

    // GEOGRAFIA (25 perguntas)
    {q: 'ğŸŒ Qual Ã© a capital da Argentina?', a: ['Buenos Aires', 'Santiago', 'Lima', 'MontevidÃ©u'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Em qual continente fica a China?', a: ['Ãsia', 'AmÃ©rica', 'Europa', 'Ãfrica'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Qual o maior estado do Brasil?', a: ['Amazonas', 'ParÃ¡', 'Mato Grosso', 'Minas Gerais'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Qual Ã© a capital de Minas Gerais?', a: ['Belo Horizonte', 'SÃ£o Paulo', 'Rio de Janeiro', 'Salvador'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Qual oceano fica a leste do Brasil?', a: ['AtlÃ¢ntico', 'PacÃ­fico', 'Ãndico', 'Ãrtico'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Qual Ã© a capital do JapÃ£o?', a: ['TÃ³quio', 'Osaka', 'Kyoto', 'Nagoya'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Em que paÃ­s fica a Torre Eiffel?', a: ['FranÃ§a', 'ItÃ¡lia', 'Espanha', 'Alemanha'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Qual Ã© a capital da ItÃ¡lia?', a: ['Roma', 'MilÃ£o', 'Veneza', 'FlorenÃ§a'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Qual Ã© o maior rio do Brasil?', a: ['Amazonas', 'SÃ£o Francisco', 'Tocantins', 'ParanÃ¡'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Em qual continente fica a AustrÃ¡lia?', a: ['Oceania', 'Ãsia', 'AmÃ©rica', 'Europa'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Qual Ã© a capital da Alemanha?', a: ['Berlim', 'Hamburgo', 'Munique', 'Frankfurt'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Qual paÃ­s tem formato de bota?', a: ['ItÃ¡lia', 'GrÃ©cia', 'Espanha', 'Portugal'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Qual Ã© a capital do CanadÃ¡?', a: ['Ottawa', 'Toronto', 'Vancouver', 'Montreal'], c: 0, cat: 'geografia', p: 5},
    {q: 'ğŸŒ Em qual paÃ­s fica o deserto do Saara?', a: ['Ãfrica (vÃ¡rios paÃ­ses)', 'AustrÃ¡lia', 'ArÃ¡bia Saudita', 'MÃ©xico'], c: 0, cat: 'geografia', p: 5},

    // HISTÃ“RIA (25 perguntas)
    {q: 'ğŸ›ï¸ Quem foi o primeiro presidente do Brasil?', a: ['Deodoro da Fonseca', 'GetÃºlio Vargas', 'Juscelino Kubitschek', 'Dom Pedro II'], c: 0, cat: 'historia', p: 5},
    {q: 'ğŸ›ï¸ Em que ano o homem foi Ã  Lua?', a: ['1969', '1959', '1979', '1989'], c: 0, cat: 'historia', p: 5},
    {q: 'ğŸ›ï¸ Quem foi Tiradentes?', a: ['MÃ¡rtir da InconfidÃªncia Mineira', 'Imperador do Brasil', 'Presidente da RepÃºblica', 'Descobridor do Brasil'], c: 0, cat: 'historia', p: 5},
    {q: 'ğŸ›ï¸ Em que ano acabou a escravidÃ£o no Brasil?', a: ['1888', '1822', '1889', '1900'], c: 0, cat: 'historia', p: 5},
    {q: 'ğŸ›ï¸ Quem foi Santos Dumont?', a: ['Pai da aviaÃ§Ã£o', 'Inventor do telefone', 'Primeiro astronauta', 'Criador do rÃ¡dio'], c: 0, cat: 'historia', p: 5},
    {q: 'ğŸ›ï¸ Em que ano comeÃ§ou a Primeira Guerra Mundial?', a: ['1914', '1900', '1918', '1939'], c: 0, cat: 'historia', p: 5},
    {q: 'ğŸ›ï¸ Quem foi Machado de Assis?', a: ['Escritor brasileiro', 'Presidente do Brasil', 'Pintor famoso', 'Cientista importante'], c: 0, cat: 'historia', p: 5},
    {q: 'ğŸ›ï¸ Quem foi GetÃºlio Vargas?', a: ['Presidente do Brasil', 'Imperador do Brasil', 'Rei de Portugal', 'General argentino'], c: 0, cat: 'historia', p: 5},
    {q: 'ğŸ›ï¸ Em que ano foi fundada a cidade de SÃ£o Paulo?', a: ['1554', '1500', '1822', '1900'], c: 0, cat: 'historia', p: 5},
    {q: 'ğŸ›ï¸ Quem foi Dom Pedro I?', a: ['Primeiro imperador do Brasil', 'Descobridor do Brasil', 'Primeiro presidente', 'Rei de Portugal'], c: 0, cat: 'historia', p: 5},
    {q: 'ğŸ›ï¸ Em que sÃ©culo o Brasil foi descoberto?', a: ['SÃ©culo XVI', 'SÃ©culo XV', 'SÃ©culo XVII', 'SÃ©culo XVIII'], c: 0, cat: 'historia', p: 5},
    {q: 'ğŸ›ï¸ Quem foi Anita Garibaldi?', a: ['HeroÃ­na da Guerra dos Farrapos', 'Imperatriz do Brasil', 'Primeira presidenta', 'Escritora famosa'], c: 0, cat: 'historia', p: 5},

    // CIÃŠNCIA (25 perguntas)
    {q: 'ğŸ”¬ Quantos ossos tem o corpo humano?', a: ['206', '200', '210', '196'], c: 0, cat: 'ciencia', p: 5},
    {q: 'ğŸ”¬ Que planeta Ã© conhecido como gigante gasoso?', a: ['JÃºpiter', 'Marte', 'Terra', 'VÃªnus'], c: 0, cat: 'ciencia', p: 5},
    {q: 'ğŸ”¬ Qual Ã© a fÃ³rmula da Ã¡gua?', a: ['Hâ‚‚O', 'COâ‚‚', 'Oâ‚‚', 'NaCl'], c: 0, cat: 'ciencia', p: 5},
    {q: 'ğŸ”¬ Quantas patas tem uma aranha?', a: ['8', '6', '10', '12'], c: 0, cat: 'ciencia', p: 5},
    {q: 'ğŸ”¬ Que animal Ã© o mais rÃ¡pido do mundo?', a: ['FalcÃ£o-peregrino', 'Guepardo', 'Ãguia', 'Leopardo'], c: 0, cat: 'ciencia', p: 5},
    {q: 'ğŸ”¬ Qual Ã© a cor do sangue humano?', a: ['Vermelho', 'Azul', 'Verde', 'Roxo'], c: 0, cat: 'ciencia', p: 5},
    {q: 'ğŸ”¬ Quantos lados tem um triÃ¢ngulo?', a: ['3', '4', '5', '6'], c: 0, cat: 'ciencia', p: 5},
    {q: 'ğŸ”¬ Que animal Ã© conhecido como "rei da selva"?', a: ['LeÃ£o', 'Tigre', 'Elefante', 'Rinoceronte'], c: 0, cat: 'ciencia', p: 5},
    {q: 'ğŸ”¬ Qual Ã© o maior Ã³rgÃ£o do corpo humano?', a: ['Pele', 'CoraÃ§Ã£o', 'FÃ­gado', 'PulmÃ£o'], c: 0, cat: 'ciencia', p: 5},
    {q: 'ğŸ”¬ Quantas pernas tem uma borboleta?', a: ['6', '4', '8', '2'], c: 0, cat: 'ciencia', p: 5},
    {q: 'ğŸ”¬ Que planeta tem anÃ©is?', a: ['Saturno', 'JÃºpiter', 'Urano', 'Terra'], c: 0, cat: 'ciencia', p: 5},
    {q: 'ğŸ”¬ Quantos dentes tem um adulto normalmente?', a: ['32', '28', '30', '26'], c: 0, cat: 'ciencia', p: 5},

    // PORTUGUÃŠS (20 perguntas)
    {q: 'ğŸ“š Qual o antÃ´nimo de "alto"?', a: ['Baixo', 'Grande', 'Largo', 'Comprido'], c: 0, cat: 'portugues', p: 5},
    {q: 'ğŸ“š Quantas vogais tem o alfabeto?', a: ['5', '6', '7', '8'], c: 0, cat: 'portugues', p: 5},
    {q: 'ğŸ“š Qual o feminino de "menino"?', a: ['Menina', 'Meninas', 'MeninÃ¡', 'MeninÃ©'], c: 0, cat: 'portugues', p: 5},
    {q: 'ğŸ“š Complete: "Eu ___ para escola"', a: ['vou', 'vai', 'vamos', 'vÃ£o'], c: 0, cat: 'portugues', p: 5},
    {q: 'ğŸ“š Qual o plural de "casa"?', a: ['Casas', 'Casos', 'Casa', 'CasÃµes'], c: 0, cat: 'portugues', p: 5},
    {q: 'ğŸ“š Quantas sÃ­labas tem "borboleta"?', a: ['4', '3', '5', '6'], c: 0, cat: 'portugues', p: 5},
    {q: 'ğŸ“š Qual o sinÃ´nimo de "bonito"?', a: ['Lindo', 'Feio', 'Grande', 'Pequeno'], c: 0, cat: 'portugues', p: 5},
    {q: 'ğŸ“š Complete: "O sol ___ quente"', a: ['Ã©', 'estÃ¡', 'sÃ£o', 'estÃ£o'], c: 0, cat: 'portugues', p: 5},
    {q: 'ğŸ“š Qual o aumentativo de "cachorro"?', a: ['CachorrÃ£o', 'Cachorrinho', 'Cachorraz', 'CachorrÃ³'], c: 0, cat: 'portugues', p: 5},

    // ENTRETENIMENTO (20 perguntas)
    {q: 'ğŸ¬ Qual Ã© o filme do leÃ£ozinho da Disney?', a: ['O Rei LeÃ£o', 'Bambi', 'Mogli', 'Tarzan'], c: 0, cat: 'entretenimento', p: 5},
    {q: 'ğŸ¬ Quem Ã© o criador da Turma da MÃ´nica?', a: ['Mauricio de Sousa', 'Ziraldo', 'Monteiro Lobato', 'Carlos Drummond'], c: 0, cat: 'entretenimento', p: 5},
    {q: 'ğŸ¬ Qual super-herÃ³i Ã© conhecido como homem-aranha?', a: ['Homem-Aranha', 'Batman', 'Super-Homem', 'Homem de Ferro'], c: 0, cat: 'entretenimento', p: 5},
    {q: 'ğŸ¬ Em que cidade fica a Disney?', a: ['Orlando', 'Los Angeles', 'Nova York', 'Paris'], c: 0, cat: 'entretenimento', p: 5},
    {q: 'ğŸ¬ Qual Ã© o nome do ratinho da Disney?', a: ['Mickey', 'Donald', 'Pateta', 'Pluto'], c: 0, cat: 'entretenimento', p: 5},
    {q: 'ğŸ¬ Quem canta "Aquarela"?', a: ['Toquinho', 'Roberto Carlos', 'ChitÃ£ozinho e XororÃ³', 'Sandy e Junior'], c: 0, cat: 'entretenimento', p: 5},
    {q: 'ğŸ¬ Qual Ã© o filme da sereia da Disney?', a: ['A Pequena Sereia', 'Moana', 'Frozen', 'Valente'], c: 0, cat: 'entretenimento', p: 5},
    {q: 'ğŸ¬ Quem Ã© o parceiro do Mickey?', a: ['Pateta', 'Donald', 'Pluto', 'Margarida'], c: 0, cat: 'entretenimento', p: 5},

    // ESPORTES (20 perguntas)
    {q: 'âš½ Em que esporte se usa raquete?', a: ['TÃªnis', 'Futebol', 'Basquete', 'VÃ´lei'], c: 0, cat: 'esportes', p: 5},
    {q: 'âš½ Quantos jogadores tem um time de vÃ´lei?', a: ['6', '5', '7', '11'], c: 0, cat: 'esportes', p: 5},
    {q: 'âš½ Qual Ã© o esporte nacional do Brasil?', a: ['Futebol', 'VÃ´lei', 'Basquete', 'TÃªnis'], c: 0, cat: 'esportes', p: 5},
    {q: 'âš½ Em que paÃ­s nasceu o judÃ´?', a: ['JapÃ£o', 'China', 'Coreia', 'Brasil'], c: 0, cat: 'esportes', p: 5},
    {q: 'âš½ Qual Ã© a cor da bola de futebol?', a: ['Branca e preta', 'Verde', 'Amarela', 'Vermelha'], c: 0, cat: 'esportes', p: 5},
    {q: 'âš½ Em que esporte se usa taco?', a: ['Beisebol', 'Futebol', 'TÃªnis', 'Golfe'], c: 0, cat: 'esportes', p: 5},
    {q: 'âš½ Quantos sets tem uma partida de vÃ´lei?', a: ['5', '3', '7', '9'], c: 0, cat: 'esportes', p: 5},
    {q: 'âš½ Qual Ã© o esporte mais popular do mundo?', a: ['Futebol', 'Basquete', 'TÃªnis', 'NataÃ§Ã£o'], c: 0, cat: 'esportes', p: 5},

    // CURIOSIDADES (20 perguntas)
    {q: 'ğŸ¤” Quantos minutos tem uma hora?', a: ['60', '50', '100', '30'], c: 0, cat: 'curiosidades', p: 5},
    {q: 'ğŸ¤” Que cor se forma misturando azul e amarelo?', a: ['Verde', 'Roxo', 'Laranja', 'Marrom'], c: 0, cat: 'curiosidades', p: 5},
    {q: 'ğŸ¤” Quantos dias tem o mÃªs de abril?', a: ['30', '28', '31', '29'], c: 0, cat: 'curiosidades', p: 5},
    {q: 'ğŸ¤” Que animal pÃµe ovos?', a: ['Galinha', 'Cachorro', 'Gato', 'Vaca'], c: 0, cat: 'curiosidades', p: 5},
    {q: 'ğŸ¤” Quantas cores tem o arco-Ã­ris?', a: ['7', '5', '6', '8'], c: 0, cat: 'curiosidades', p: 5},
    {q: 'ğŸ¤” Que fruta Ã© conhecida como "rei das frutas"?', a: ['Manga', 'MaÃ§Ã£', 'Banana', 'Uva'], c: 0, cat: 'curiosidades', p: 5},
    {q: 'ğŸ¤” Quantas estaÃ§Ãµes tem o ano?', a: ['4', '3', '5', '2'], c: 0, cat: 'curiosidades', p: 5},
    {q: 'ğŸ¤” Que animal vive na Ã¡gua e na terra?', a: ['Sapo', 'Peixe', 'PÃ¡ssaro', 'Cobra'], c: 0, cat: 'curiosidades', p: 5},

    // FAMÃLIA (15 perguntas)
    {q: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ O pai do seu pai Ã© seu...?', a: ['AvÃ´', 'Tio', 'Primo', 'Sobrinho'], c: 0, cat: 'familia', p: 5},
    {q: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Quantas pessoas tem uma famÃ­lia com pai, mÃ£e e 2 filhos?', a: ['4', '3', '5', '6'], c: 0, cat: 'familia', p: 5},
    {q: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ O filho da sua tia Ã© seu...?', a: ['Primo', 'IrmÃ£o', 'Sobrinho', 'Tio'], c: 0, cat: 'familia', p: 5},
    {q: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Quem Ã© mais velho: avÃ´ ou neto?', a: ['AvÃ´', 'Neto', 'SÃ£o iguais', 'Depende'], c: 0, cat: 'familia', p: 5},
    {q: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ A mÃ£e da sua mÃ£e Ã© sua...?', a: ['AvÃ³', 'Tia', 'Madrinha', 'Sogra'], c: 0, cat: 'familia', p: 5},

    // PEGADINHAS (15 perguntas)
    {q: 'ğŸ­ O que tem no meio do ovo?', a: ['A letra V', 'A gema', 'O ar', 'Nada'], c: 0, cat: 'pegadinhas', p: 10},
    {q: 'ğŸ­ O que Ã© que quanto mais cresce, menor fica?', a: ['Buraco', 'Ãrvore', 'Pessoa', 'Montanha'], c: 0, cat: 'pegadinhas', p: 10},
    {q: 'ğŸ­ Qual Ã© o dia mais longo da semana?', a: ['Sexta-feira (tem 9 letras)', 'SÃ¡bado', 'Domingo', 'Segunda-feira'], c: 0, cat: 'pegadinhas', p: 10},
    {q: 'ğŸ­ O que Ã© que cai em pÃ© e corre deitado?', a: ['A chuva', 'O homem', 'A Ã¡rvore', 'O rio'], c: 0, cat: 'pegadinhas', p: 10},
    {q: 'ğŸ­ O que Ã© que quanto mais se tira, mais aumenta?', a: ['O buraco', 'O dinheiro', 'A Ã¡gua', 'O tempo'], c: 0, cat: 'pegadinhas', p: 10}
  ],

  medium: [
    // MATEMÃTICA (40 perguntas)
    {q: 'ğŸ§® Qual Ã© a raiz quadrada de 81?', a: ['9', '8', '7', '10'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Quanto Ã© 15% de 200?', a: ['30', '20', '25', '15'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Qual Ã© o prÃ³ximo nÃºmero: 3, 6, 9, 12...?', a: ['15', '14', '13', '16'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Quanto Ã© 7Â²?', a: ['49', '42', '56', '35'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Qual Ã© o MMC de 4 e 6?', a: ['12', '8', '10', '24'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Quanto Ã© 45 Ã· 0,5?', a: ['90', '45', '22,5', '180'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Qual Ã© 20% de 150?', a: ['30', '25', '20', '15'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Quanto Ã© 0,25 Ã— 100?', a: ['25', '2,5', '250', '0,25'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Qual Ã© o dobro de 3/4?', a: ['1,5', '1', '0,75', '2'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Quanto Ã© 18 + 27?', a: ['45', '44', '46', '47'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Qual Ã© o triÃ¢ngulo com 3 lados iguais?', a: ['EquilÃ¡tero', 'IsÃ³sceles', 'Escaleno', 'RetÃ¢ngulo'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Quanto Ã© 5! (fatorial de 5)?', a: ['120', '60', '24', '720'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Qual Ã© o nÃºmero primo entre: 4, 6, 7, 8?', a: ['7', '4', '6', '8'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Quanto Ã© 3/4 de 100?', a: ['75', '25', '50', '33'], c: 0, cat: 'matematica', p: 10},
    {q: 'ğŸ§® Qual Ã© o cubo de 3?', a: ['27', '9', '6', '81'], c: 0, cat: 'matematica', p: 10},

    // GEOGRAFIA (35 perguntas) - Respostas randomizadas
    {q: 'ğŸŒ Qual Ã© o maior paÃ­s da AmÃ©rica do Sul?', a: ['Brasil', 'Argentina', 'Peru', 'ColÃ´mbia'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Qual Ã© a capital da RÃºssia?', a: ['Moscou', 'SÃ£o Petersburgo', 'Kiev', 'VarsÃ³via'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Em que paÃ­s fica a Muralha da China?', a: ['China', 'JapÃ£o', 'Coreia', 'VietnÃ£'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Qual Ã© o maior deserto do mundo?', a: ['Saara', 'Atacama', 'Gobi', 'ArÃ¡bia'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Qual Ã© a capital do Egito?', a: ['Cairo', 'Alexandria', 'Luxor', 'GizÃ©'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Em que paÃ­s fica o Taj Mahal?', a: ['Ãndia', 'PaquistÃ£o', 'Bangladesh', 'Nepal'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Qual Ã© a capital da Inglaterra?', a: ['Londres', 'Manchester', 'Liverpool', 'Birmingham'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Qual Ã© o menor continente?', a: ['Oceania', 'Europa', 'AmÃ©rica', 'AntÃ¡rtida'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Qual paÃ­s tem formato de bota?', a: ['ItÃ¡lia', 'GrÃ©cia', 'Espanha', 'Portugal'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Qual Ã© a capital do MÃ©xico?', a: ['Cidade do MÃ©xico', 'Guadalajara', 'Monterrey', 'CancÃºn'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Em que paÃ­s fica Machu Picchu?', a: ['Peru', 'BolÃ­via', 'Chile', 'Equador'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Qual Ã© a capital da Espanha?', a: ['Madri', 'Barcelona', 'Sevilha', 'ValÃªncia'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Qual Ã© o maior oceano?', a: ['PacÃ­fico', 'AtlÃ¢ntico', 'Ãndico', 'Ãrtico'], c: 0, cat: 'geografia', p: 10},
    {q: 'ğŸŒ Em que paÃ­s fica o Cristo Redentor?', a: ['Brasil', 'Argentina', 'Chile', 'Uruguai'], c: 0, cat: 'geografia', p: 10},

    // HISTÃ“RIA (35 perguntas)
    {q: 'ğŸ›ï¸ Quem escreveu "Os LusÃ­adas"?', a: ['LuÃ­s de CamÃµes', 'Fernando Pessoa', 'Machado de Assis', 'JosÃ© de Alencar'], c: 0, cat: 'historia', p: 10},
    {q: 'ğŸ›ï¸ Em que ano terminou a Segunda Guerra Mundial?', a: ['1945', '1939', '1941', '1943'], c: 0, cat: 'historia', p: 10},
    {q: 'ğŸ›ï¸ Quem foi CleÃ³patra?', a: ['Rainha do Egito', 'Rainha da FranÃ§a', 'Imperatriz Romana', 'Rainha da Inglaterra'], c: 0, cat: 'historia', p: 10},
    {q: 'ğŸ›ï¸ Quem pintou "O Grito"?', a: ['Edvard Munch', 'Vincent van Gogh', 'Pablo Picasso', 'Leonardo da Vinci'], c: 0, cat: 'historia', p: 10},
    {q: 'ğŸ›ï¸ Em que ano comeÃ§ou a RevoluÃ§Ã£o Francesa?', a: ['1789', '1776', '1799', '1804'], c: 0, cat: 'historia', p: 10},
    {q: 'ğŸ›ï¸ Quem foi Monteiro Lobato?', a: ['Escritor brasileiro', 'Presidente do Brasil', 'Pintor famoso', 'Explorador'], c: 0, cat: 'historia', p: 10},
    {q: 'ğŸ›ï¸ Em que ano foi a ProclamaÃ§Ã£o da RepÃºblica no Brasil?', a: ['1889', '1822', '1888', '1891'], c: 0, cat: 'historia', p: 10},
    {q: 'ğŸ›ï¸ Quem foi Leonardo da Vinci?', a: ['Artista e inventor', 'Rei da FranÃ§a', 'Explorador', 'Cientista grego'], c: 0, cat: 'historia', p: 10},
    {q: 'ğŸ›ï¸ Em que ano caiu o Muro de Berlim?', a: ['1989', '1991', '1985', '1995'], c: 0, cat: 'historia', p: 10},
    {q: 'ğŸ›ï¸ Quem foi Anne Frank?', a: ['Menina que escreveu um diÃ¡rio', 'Rainha da Inglaterra', 'Cientista famosa', 'Pintora holandesa'], c: 0, cat: 'historia', p: 10},
    {q: 'ğŸ›ï¸ Em que sÃ©culo viveu Shakespeare?', a: ['SÃ©culo XVI', 'SÃ©culo XV', 'SÃ©culo XVII', 'SÃ©culo XVIII'], c: 0, cat: 'historia', p: 10},
    {q: 'ğŸ›ï¸ Quem foi Juscelino Kubitschek?', a: ['Presidente do Brasil', 'Imperador do Brasil', 'Prefeito de SP', 'Ministro'], c: 0, cat: 'historia', p: 10},

    // CIÃŠNCIA (35 perguntas)
    {q: 'ğŸ”¬ Qual Ã© o gÃ¡s mais abundante na atmosfera?', a: ['NitrogÃªnio', 'OxigÃªnio', 'CarbÃ´nico', 'ArgÃ´nio'], c: 0, cat: 'ciencia', p: 10},
    {q: 'ğŸ”¬ Quantos elementos tem a tabela periÃ³dica?', a: ['118', '92', '100', '112'], c: 0, cat: 'ciencia', p: 10},
    {q: 'ğŸ”¬ Quem formulou a teoria da relatividade?', a: ['Albert Einstein', 'Isaac Newton', 'Stephen Hawking', 'Galileu Galilei'], c: 0, cat: 'ciencia', p: 10},
    {q: 'ğŸ”¬ Qual Ã© a velocidade da luz?', a: ['300.000 km/s', '150.000 km/s', '1.000.000 km/s', '30.000 km/s'], c: 0, cat: 'ciencia', p: 10},
    {q: 'ğŸ”¬ Quantos cromossomos humanos existem?', a: ['46', '23', '48', '24'], c: 0, cat: 'ciencia', p: 10},
    {q: 'ğŸ”¬ Quem descobriu a penicilina?', a: ['Alexander Fleming', 'Louis Pasteur', 'Marie Curie', 'Robert Koch'], c: 0, cat: 'ciencia', p: 10},
    {q: 'ğŸ”¬ Qual Ã© o planeta mais quente do sistema solar?', a: ['VÃªnus', 'MercÃºrio', 'Marte', 'JÃºpiter'], c: 0, cat: 'ciencia', p: 10},
    {q: 'ğŸ”¬ Quantos km tem 1 milha?', a: ['1,6 km', '1 km', '2 km', '1,5 km'], c: 0, cat: 'ciencia', p: 10},
    {q: 'ğŸ”¬ Qual Ã© a fÃ³rmula do sal de cozinha?', a: ['NaCl', 'Hâ‚‚O', 'COâ‚‚', 'Câ‚†Hâ‚â‚‚Oâ‚†'], c: 0, cat: 'ciencia', p: 10},
    {q: 'ğŸ”¬ Quem descobriu a eletricidade?', a: ['Benjamin Franklin', 'Thomas Edison', 'Nikola Tesla', 'Alessandro Volta'], c: 0, cat: 'ciencia', p: 10},
    {q: 'ğŸ”¬ Quantas vÃ©rtebras tem a coluna humana?', a: ['33', '24', '28', '30'], c: 0, cat: 'ciencia', p: 10},
    {q: 'ğŸ”¬ Qual Ã© o pH da Ã¡gua pura?', a: ['7', '5', '8', '6'], c: 0, cat: 'ciencia', p: 10},

    // PORTUGUÃŠS (30 perguntas)
    {q: 'ğŸ“š Qual Ã© o plural de "cidadÃ£o"?', a: ['CidadÃ£os', 'CidadÃ£es', 'CidadÃµes', 'CidadÃµes'], c: 0, cat: 'portugues', p: 10},
    {q: 'ğŸ“š Quantas sÃ­labas tem "inconstitucionalissimamente"?', a: ['13', '12', '14', '11'], c: 0, cat: 'portugues', p: 10},
    {q: 'ğŸ“š Qual Ã© o superlativo de "belo"?', a: ['BelÃ­ssimo', 'Muito belo', 'Belo demais', 'Mais belo'], c: 0, cat: 'portugues', p: 10},
    {q: 'ğŸ“š Quem escreveu "Dom Casmurro"?', a: ['Machado de Assis', 'JosÃ© de Alencar', 'Clarice Lispector', 'Carlos Drummond'], c: 0, cat: 'portugues', p: 10},
    {q: 'ğŸ“š Qual destas palavras Ã© oxÃ­tona?', a: ['CafÃ©', 'Casa', 'Livro', 'Mesa'], c: 0, cat: 'portugues', p: 10},
    {q: 'ğŸ“š Qual Ã© o aumentativo de "homem"?', a: ['HomenzarrÃ£o', 'HomemzÃ£o', 'HomÃ£o', 'Homem grande'], c: 0, cat: 'portugues', p: 10},
    {q: 'ğŸ“š Quem foi o autor de "O CortiÃ§o"?', a: ['AluÃ­sio Azevedo', 'Machado de Assis', 'JosÃ© de Alencar', 'Lima Barreto'], c: 0, cat: 'portugues', p: 10},
    {q: 'ğŸ“š Qual Ã© o antÃ´nimo de "alegre"?', a: ['Triste', 'Content', 'Feliz', 'Animado'], c: 0, cat: 'portugues', p: 10},
    {q: 'ğŸ“š Quantas conjugaÃ§Ãµes verbais existem?', a: ['3', '2', '4', '5'], c: 0, cat: 'portugues', p: 10},
    {q: 'ğŸ“š Qual Ã© a regÃªncia do verbo "aspirar"?', a: ['Aspirar a (pretender)', 'Aspirar de', 'Aspirar para', 'Aspirar com'], c: 0, cat: 'portugues', p: 10},

    // ENTRETENIMENTO (30 perguntas)
    {q: 'ğŸ¬ Quem dirigiu "Titanic"?', a: ['James Cameron', 'Steven Spielberg', 'George Lucas', 'Christopher Nolan'], c: 0, cat: 'entretenimento', p: 10},
    {q: 'ğŸ¬ Em que ano estreou "Star Wars"?', a: ['1977', '1980', '1975', '1983'], c: 0, cat: 'entretenimento', p: 10},
    {q: 'ğŸ¬ Quem interpretou Harry Potter?', a: ['Daniel Radcliffe', 'Rupert Grint', 'Emma Watson', 'Tom Felton'], c: 0, cat: 'entretenimento', p: 10},
    {q: 'ğŸ¬ Qual atriz interpretou a Rainha Elizabeth?', a: ['Helen Mirren', 'Meryl Streep', 'Cate Blanchett', 'Judi Dench'], c: 0, cat: 'entretenimento', p: 10},
    {q: 'ğŸ¬ Qual filme ganhou mais Oscars?', a: ['Titanic, Ben-Hur e O Senhor dos AnÃ©is', 'Avatar', 'Gone with the Wind', 'La La Land'], c: 0, cat: 'entretenimento', p: 10},
    {q: 'ğŸ¬ Quem compÃ´s "As Quatro EstaÃ§Ãµes"?', a: ['Vivaldi', 'Bach', 'Mozart', 'Beethoven'], c: 0, cat: 'entretenimento', p: 10},
    {q: 'ğŸ¬ Qual banda Ã© conhecida como "Fab Four"?', a: ['The Beatles', 'Rolling Stones', 'Queen', 'U2'], c: 0, cat: 'entretenimento', p: 10},
    {q: 'ğŸ¬ Quem pintou "Guernica"?', a: ['Pablo Picasso', 'Salvador DalÃ­', 'Vincent van Gogh', 'Claude Monet'], c: 0, cat: 'entretenimento', p: 10},
    {q: 'ğŸ¬ Qual Ã© o filme brasileiro mais premiado?', a: ['Central do Brasil', 'Cidade de Deus', 'O Auto da Compadecida', 'Tropa de Elite'], c: 0, cat: 'entretenimento', p: 10},

    // ESPORTES (25 perguntas)
    {q: 'âš½ Quantas medalhas de ouro o Brasil tem em OlimpÃ­adas?', a: ['37', '30', '40', '25'], c: 0, cat: 'esportes', p: 10},
    {q: 'âš½ Qual atleta tem mais medalhas olÃ­mpicas?', a: ['Michael Phelps', 'Usain Bolt', 'Carl Lewis', 'Larisa Latynina'], c: 0, cat: 'esportes', p: 10},
    {q: 'âš½ Em que ano o Brasil sediou a Copa?', a: ['2014', '2010', '2018', '2006'], c: 0, cat: 'esportes', p: 10},
    {q: 'âš½ Qual Ã© o recorde mundial dos 100m?', a: ['9,58s', '9,69s', '9,79s', '9,85s'], c: 0, cat: 'esportes', p: 10},
    {q: 'âš½ Quantos jogadores tem um time de rugby?', a: ['15', '11', '13', '9'], c: 0, cat: 'esportes', p: 10},
    {q: 'âš½ Qual paÃ­s inventou o judÃ´?', a: ['JapÃ£o', 'China', 'Coreia', 'Brasil'], c: 0, cat: 'esportes', p: 10},
    {q: 'âš½ Quantos sets para vencer no tÃªnis?', a: ['2 de 3 ou 3 de 5', '1 de 2', '2 de 4', '3 de 5'], c: 0, cat: 'esportes', p: 10},
    {q: 'âš½ Qual a altura da rede de vÃ´lei masculino?', a: ['2,43m', '2,24m', '2,30m', '2,50m'], c: 0, cat: 'esportes', p: 10},

    // CURIOSIDADES (25 perguntas)
    {q: 'ğŸ¤” Quantas horas tem um dia?', a: ['24', '12', '48', '36'], c: 0, cat: 'curiosidades', p: 10},
    {q: 'ğŸ¤” Qual Ã© o ponto de ebuliÃ§Ã£o da Ã¡gua?', a: ['100Â°C', '0Â°C', '50Â°C', '150Â°C'], c: 0, cat: 'curiosidades', p: 10},
    {q: 'ğŸ¤” Quantos anos tem um sÃ©culo?', a: ['100', '10', '50', '1000'], c: 0, cat: 'curiosidades', p: 10},
    {q: 'ğŸ¤” Qual Ã© o metal mais caro?', a: ['RÃ³dio', 'Ouro', 'Platina', 'Prata'], c: 0, cat: 'curiosidades', p: 10},
    {q: 'ğŸ¤” Quantas semanas tem um ano?', a: ['52', '48', '50', '54'], c: 0, cat: 'curiosidades', p: 10},
    {q: 'ğŸ¤” Qual Ã© o animal mais venenoso?', a: ['Medusa-caixa-australiana', 'Cobra', 'EscorpiÃ£o', 'Aranha'], c: 0, cat: 'curiosidades', p: 10},
    {q: 'ğŸ¤” Quantos quilÃ´metros tem 1 maratona?', a: ['42,195 km', '40 km', '45 km', '50 km'], c: 0, cat: 'curiosidades', p: 10},
    {q: 'ğŸ¤” Qual Ã© o menor osso do corpo humano?', a: ['Estribo (ouvido)', 'Martelo', 'Bigorna', 'Falange'], c: 0, cat: 'curiosidades', p: 10},

    // PEGADINHAS (20 perguntas)
    {q: 'ğŸ­ Se uma pessoa nasceu em 2000, quantos anos tinha em 2020?', a: ['20', '19', '21', '18'], c: 0, cat: 'pegadinhas', p: 15},
    {q: 'ğŸ­ Qual Ã© o Ãºnico nÃºmero que tem o mesmo nÃºmero de letras que seu valor?', a: ['4 (quatro)', '5 (cinco)', '3 (trÃªs)', '6 (seis)'], c: 0, cat: 'pegadinhas', p: 15},
    {q: 'ğŸ­ Um casal tem 6 filhas e cada filha tem 1 irmÃ£o. Quantas pessoas tem a famÃ­lia?', a: ['9', '8', '10', '7'], c: 0, cat: 'pegadinhas', p: 15},
    {q: 'ğŸ­ Se vocÃª estÃ¡ em uma corrida e ultrapassa o segundo colocado, em que posiÃ§Ã£o fica?', a: ['Segundo', 'Primeiro', 'Terceiro', 'Quarto'], c: 0, cat: 'pegadinhas', p: 15},
    {q: 'ğŸ­ Quantos animais MoisÃ©s colocou na arca?', a: ['Nenhum (foi NoÃ©)', '2', '7', 'Muitos'], c: 0, cat: 'pegadinhas', p: 15},
    {q: 'ğŸ­ Uma mÃ£e tem 30 reais para dividir entre suas 2 filhas. Como deve dividir para uma ficar com o dobro da outra?', a: ['20 e 10', '15 e 15', '18 e 12', '25 e 5'], c: 0, cat: 'pegadinhas', p: 15},
    {q: 'ğŸ­ O que pesa mais: 1kg de ferro ou 1kg de algodÃ£o?', a: ['Pesam o mesmo', 'Ferro', 'AlgodÃ£o', 'Depende'], c: 0, cat: 'pegadinhas', p: 15},
    {q: 'ğŸ­ Um homem olha para uma foto e diz: "IrmÃ£os e irmÃ£s eu nÃ£o tenho, mas o pai desse homem Ã© filho do meu pai". Quem Ã© o homem da foto?', a: ['Seu filho', 'Seu pai', 'Ele mesmo', 'Seu avÃ´'], c: 0, cat: 'pegadinhas', p: 15}
  ]
};

// FunÃ§Ã£o auxiliar para randomizar a posiÃ§Ã£o das respostas
function shuffleQuestion(questionObj) {
  // Criar uma cÃ³pia do objeto
  const shuffled = {...questionObj};

  // Criar array de Ã­ndices [0, 1, 2, 3]
  const indices = [0, 1, 2, 3];

  // Embaralhar os Ã­ndices
  for (let i = indices.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [indices[i], indices[j]] = [indices[j], indices[i]];
  }

  // Reorganizar as respostas de acordo com os Ã­ndices embaralhados
  const newAnswers = indices.map(idx => questionObj.a[idx]);

  // Encontrar a nova posiÃ§Ã£o da resposta correta
  const newCorrectIndex = indices.indexOf(questionObj.c);

  // Atualizar o objeto
  shuffled.a = newAnswers;
  shuffled.c = newCorrectIndex;

  return shuffled;
}

// FunÃ§Ã£o para obter uma pergunta randomizada
function getRandomQuestion(difficulty) {
  const questions = QuestionsDB[difficulty] || QuestionsDB.medium;
  const randomIndex = Math.floor(Math.random() * questions.length);
  const question = questions[randomIndex];

  // Retornar a pergunta com respostas embaralhadas
  return shuffleQuestion(question);
}

// Exemplo de uso:
// const question = getRandomQuestion('easy');
// console.log(question.q); // Pergunta
// console.log(question.a); // Respostas (embaralhadas)
// console.log(question.c); // Ãndice correto (atualizado)
// console.log(question.cat); // Categoria
// console.log(question.p); // Pontos

  // ============================================
  // FUNÃ‡Ã•ES DE UTILIDADE
  // ============================================
  function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  function getRandomItem(array) {
    return array[Math.floor(Math.random() * array.length)];
  }

  function showNotification(message, type = 'info') {
    const colors = {
      success: 'var(--success)',
      error: 'var(--danger)',
      warning: 'var(--warning)',
      info: 'var(--info)'
    };

    const notification = document.createElement('div');
    notification.style.cssText = `
      position: fixed;
      top: 100px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(15, 23, 42, 0.95);
      color: white;
      padding: 15px 25px;
      border-radius: 12px;
      border: 3px solid ${colors[type] || colors.info};
      z-index: 10000;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      max-width: 90%;
      text-align: center;
      font-weight: bold;
      font-size: 1rem;
    `;
    notification.textContent = message;
    document.body.appendChild(notification);

    setTimeout(() => {
      notification.remove();
    }, 2500);
  }

  // ============================================
  // INICIALIZAÃ‡ÃƒO DO JOGO
  // ============================================
  function initGame() {
    console.log('ğŸ® Inicializando Show da FamÃ­lia...');

    // Configurar event listeners
    document.getElementById('numPlayers').addEventListener('input', function() {
      const count = parseInt(this.value);
      const text = count === 1 ? '1 JOGADOR (Vs Computador)' : `${count} JOGADORES`;
      document.getElementById('playerCount').textContent = text;
      SoundSystem.playSound('click');
    });

    // Carregar recordes
    GameState.records = JSON.parse(localStorage.getItem('familyShowRecords') || '[]');

    // Selecionar modo clÃ¡ssico por padrÃ£o
    selectMode('classic');

    console.log('âœ… Jogo inicializado com sucesso!');
  }

  function toggleAudio() {
    GameConfig.audioEnabled = !GameConfig.audioEnabled;
    const audioBtn = document.getElementById('audioToggle');

    SoundSystem.playSound('click');

    if (GameConfig.audioEnabled) {
      audioBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
      audioBtn.style.background = 'rgba(16, 185, 129, 0.9)';
      audioBtn.title = 'Som ligado';
      VoiceSystem.speak("Som ativado! Vamos jogar!", 'excited');
    } else {
      audioBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
      audioBtn.style.background = 'rgba(15, 23, 42, 0.9)';
      audioBtn.title = 'Som desligado';
    }
  }

  function toggleVoice() {
    GameConfig.voiceEnabled = !GameConfig.voiceEnabled;
    const voiceBtn = document.getElementById('voiceToggle');

    SoundSystem.playSound('click');

    if (GameConfig.voiceEnabled) {
      voiceBtn.innerHTML = '<i class="fas fa-microphone-alt"></i>';
      voiceBtn.style.background = 'rgba(16, 185, 129, 0.9)';
      voiceBtn.title = 'Voz ligada';
      VoiceSystem.speak("Voz ativada! Vamos comeÃ§ar o jogo!", 'excited');
    } else {
      voiceBtn.innerHTML = '<i class="fas fa-microphone-alt-slash"></i>';
      voiceBtn.style.background = 'rgba(15, 23, 42, 0.9)';
      voiceBtn.title = 'Voz desligada';
      VoiceSystem.stop();
    }
  }

  // ============================================
  // FUNÃ‡Ã•ES DO MENU PRINCIPAL
  // ============================================
  function selectMode(modeKey) {
    SoundSystem.playSound('click');
    GameState.mode = modeKey;
    GameState.isSinglePlayer = (modeKey === 'single');

    const cards = document.querySelectorAll('.mode-card');
    cards.forEach(c => c.classList.remove('selected'));

    cards.forEach(card => {
      const title = card.querySelector('h3').textContent.toLowerCase();
      const modeMap = {
        'classic': 'clÃ¡ssico',
        'quick': 'rÃ¡pido',
        'duel': 'duelo',
        'single': 'um jogador',
        'teams': 'times',
        'survival': 'survival',
        'coop': 'cooperativo'
      };

      if (title.includes(modeMap[modeKey])) {
        card.classList.add('selected');
      }
    });

    VoiceSystem.speak(`Modo ${modeKey === 'single' ? 'um jogador' : modeKey} selecionado!`, 'excited');
  }

  function setupPlayers() {
    SoundSystem.playSound('click');

    const numPlayers = parseInt(document.getElementById('numPlayers').value, 10);
    GameState.difficulty = document.getElementById('difficulty').value;

    const rounds = document.getElementById('rounds').value;
    GameState.totalRounds = rounds === 'infinite' ? 999 : parseInt(rounds, 10);

    // Ajustar para modo um jogador
    if (GameState.isSinglePlayer && numPlayers === 1) {
      GameState.players = ['VocÃª', 'Computador'];
      GameState.powerUps = [
        { help: 2, time: 1, double: 1, skip: 1 }, // Jogador
        { help: 0, time: 0, double: 0, skip: 0 }  // Computador (sem power-ups)
      ];

      let playersHTML = `
        <div class="player-card">
          <span class="player-avatar">ğŸ‘¤</span>
          <input type="text" class="setting-input player-name-input"
                 placeholder="Seu nome"
                 value="VocÃª"
                 style="text-align: center; font-weight: bold;">
          <div style="margin-top: 10px; color: var(--info); font-weight: bold;">
            ğŸ® Modo: 1 Jogador vs Computador
          </div>
        </div>
        <div class="player-card">
          <span class="player-avatar">ğŸ¤–</span>
          <div style="text-align: center; font-weight: bold; color: white; padding: 10px;">
            Computador (Oponente)
          </div>
          <div style="margin-top: 10px; color: var(--warning); font-weight: bold;">
            âš™ï¸ NÃ­vel: ${GameState.difficulty.toUpperCase()}
          </div>
        </div>
      `;

      document.getElementById('playersGrid').innerHTML = playersHTML;
    } else {
      let playersHTML = '';
      const avatars = ['ğŸ‘¨', 'ğŸ‘©', 'ğŸ‘¦', 'ğŸ‘§', 'ğŸ‘´', 'ğŸ‘µ', 'ğŸ§‘', 'ğŸ§’'];
      const defaultNames = ['Papai', 'MamÃ£e', 'Filho(a)', 'VovÃ´', 'VovÃ³', 'Tio(a)', 'Primo(a)', 'Amigo(a)'];

      for (let i = 0; i < numPlayers; i++) {
        playersHTML += `
          <div class="player-card">
            <span class="player-avatar">${avatars[i % avatars.length]}</span>
            <input type="text" class="setting-input player-name-input"
                   placeholder="Nome do Jogador ${i + 1}"
                   value="${defaultNames[i] || `Jogador ${i + 1}`}"
                   style="text-align: center; font-weight: bold;">
          </div>
        `;
      }

      document.getElementById('playersGrid').innerHTML = playersHTML;
    }

    document.getElementById('welcomeScreen').classList.add('hidden');
    document.getElementById('playerSetup').classList.remove('hidden');
  }

  // ============================================
  // FUNÃ‡Ã•ES DO JOGO (COM MODO UM JOGADOR)
  // ============================================
  function startGame() {
    SoundSystem.playSound('correct');

    // Coletar nomes dos jogadores
    GameState.players = [];
    GameState.scores = [];
    GameState.streaks = [];
    GameState.powerUps = [];

    if (GameState.isSinglePlayer) {
      // Modo um jogador
      GameState.players = ['VocÃª', 'Computador'];
      GameState.scores = [0, 0];
      GameState.streaks = [0, 0];
      GameState.powerUps = [
        { help: 2, time: 1, double: 1, skip: 1 }, // Jogador humano
        { help: 0, time: 0, double: 0, skip: 0 }  // Computador
      ];
    } else {
      // Modo multiplayer
      document.querySelectorAll('.player-name-input').forEach((input, index) => {
        const name = input.value.trim() || `Jogador ${index + 1}`;
        GameState.players.push(name);
        GameState.scores.push(0);
        GameState.streaks.push(0);
        GameState.powerUps.push({ help: 2, time: 1, double: 1, skip: 1 });
      });
    }

    // Resetar estado do jogo
    GameState.currentPlayer = 0;
    GameState.currentRound = 1;
    GameState.gameActive = true;
    GameState.usedQuestions.clear();
    GameState.doublePoints = false;
    GameState.timer = 30;

    // Mostrar tela do jogo
    document.getElementById('playerSetup').classList.add('hidden');
    document.getElementById('gameScreen').classList.remove('hidden');

    document.getElementById('totalRounds').textContent = GameState.totalRounds;

    // SaudaÃ§Ã£o inicial
    if (GameState.isSinglePlayer) {
      VoiceSystem.speak("Modo um jogador ativado! VocÃª contra o computador. Boa sorte!", 'excited');
    } else {
      VoiceSystem.speak(`O jogo comeÃ§ou! SÃ£o ${GameState.players.length} jogadores. Boa sorte a todos!`, 'excited');
    }

    // Iniciar primeira pergunta
    updateScoreboard();
    loadQuestion();
  }

  function loadQuestion() {
    if (!GameState.gameActive) return;

    // Gerar perguntas se necessÃ¡rio
    const difficulty = GameState.difficulty;
    let questions = [];

    if (difficulty === 'mixed') {
      questions = [...QuestionsDB.easy, ...QuestionsDB.medium];
    } else {
      questions = QuestionsDB[difficulty] || QuestionsDB.medium;
    }

    // Encontrar pergunta nÃ£o usada
    let question;
    let attempts = 0;
    const maxAttempts = questions.length * 2;

    do {
      question = questions[Math.floor(Math.random() * questions.length)];
      attempts++;
      if (attempts > maxAttempts) {
        GameState.usedQuestions.clear();
        question = questions[0];
        break;
      }
    } while (GameState.usedQuestions.has(question[0]));

    GameState.usedQuestions.add(question[0]);

    const [text, options, correctIndex, category, points] = question;

    // Atualizar estado atual
    GameState.currentCorrectIndex = correctIndex;
    GameState.currentCategoryKey = category;
    GameState.currentPoints = points;
    GameState.questionStartAt = Date.now();

    // Atualizar interface
    const playerName = GameState.players[GameState.currentPlayer];
    document.getElementById('turnText').innerHTML = GameState.isSinglePlayer && GameState.currentPlayer === 1
      ? `ğŸ® VEZ DO: <span style="color: var(--info);">COMPUTADOR ğŸ¤–</span>`
      : `ğŸ® VEZ DE: <span style="color: var(--secondary);">${playerName.toUpperCase()}</span>`;

    document.getElementById('currentRound').textContent = GameState.currentRound;

    // Mostrar categoria
    const categoryNames = {
      matematica: 'ğŸ§® MATEMÃTICA',
      geografia: 'ğŸŒ GEOGRAFIA',
      historia: 'ğŸ›ï¸ HISTÃ“RIA',
      ciencia: 'ğŸ”¬ CIÃŠNCIA',
      portugues: 'ğŸ“š PORTUGUÃŠS',
      entretenimento: 'ğŸ¬ ENTRETENIMENTO',
      esportes: 'âš½ ESPORTES',
      curiosidades: 'ğŸ¤” CURIOSIDADES',
      familia: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ FAMÃLIA',
      pegadinhas: 'ğŸ­ PEGADINHAS'
    };

    document.getElementById('categoryDisplay').textContent = categoryNames[category] || 'ğŸ® GERAL';

    // Mostrar pergunta
    document.getElementById('questionDisplay').textContent = text;

    // Mostrar respostas
    const answersContainer = document.getElementById('answersContainer');
    answersContainer.innerHTML = '';

    const letters = ['A', 'B', 'C', 'D'];
    options.forEach((option, index) => {
      const div = document.createElement('div');
      div.className = 'answer-option';
      div.innerHTML = `
        <span class="answer-letter">${letters[index]}</span>
        <span class="answer-content">${option}</span>
      `;
      div.onclick = () => checkAnswer(index);
      answersContainer.appendChild(div);
    });

    // Se for a vez do computador (modo um jogador)
    if (GameState.isSinglePlayer && GameState.currentPlayer === 1) {
      setTimeout(() => computerPlay(), 1500);
    }

    // Resetar timer
    GameState.timer = 30;
    startTimer();

    // Anunciar a pergunta por voz
    VoiceSystem.speak(`Pergunta para ${playerName}: ${text}`, 'calm');
  }

  function computerPlay() {
    if (!GameState.gameActive) return;

    const difficulty = GameState.difficulty;
    let correctChance = 0.7; // 70% de chance padrÃ£o

    // Ajustar chance baseado na dificuldade
    switch(difficulty) {
      case 'easy': correctChance = 0.8; break;
      case 'medium': correctChance = 0.7; break;
      case 'hard': correctChance = 0.6; break;
      case 'expert': correctChance = 0.5; break;
    }

    // Computador "pensa" por um tempo
    setTimeout(() => {
      let selectedIndex;
      const correctIndex = GameState.currentCorrectIndex;

      if (Math.random() < correctChance) {
        // Computador acerta (escolhe resposta correta)
        selectedIndex = correctIndex;
      } else {
        // Computador erra (escolhe resposta errada aleatÃ³ria)
        const wrongOptions = [0, 1, 2, 3].filter(i => i !== correctIndex);
        selectedIndex = wrongOptions[Math.floor(Math.random() * wrongOptions.length)];
      }

      checkAnswer(selectedIndex);
    }, 2000); // Computador "pensa" por 2 segundos
  }

  function checkAnswer(selectedIndex) {
    if (!GameState.gameActive) return;

    clearInterval(GameState.timerInterval);

    const answers = document.querySelectorAll('.answer-option');
    answers.forEach(a => {
      a.onclick = null;
      a.style.cursor = 'default';
    });

    const correctIndex = GameState.currentCorrectIndex;
    const playerIndex = GameState.currentPlayer;
    const playerName = GameState.players[playerIndex];
    const isComputer = GameState.isSinglePlayer && playerIndex === 1;

    if (selectedIndex === correctIndex) {
      // Resposta correta
      answers[selectedIndex].classList.add('correct');
      SoundSystem.playSound('correct');

      let points = GameState.currentPoints;
      if (GameState.doublePoints) points *= 2;

      GameState.scores[playerIndex] += points;
      GameState.streaks[playerIndex]++;

      const message = isComputer
        ? `Computador acertou! +${points} pontos!`
        : `${playerName}! ${VoiceSystem.getRandomMessage('correctAnswers')} +${points} pontos!`;

      showNotification(message, 'success');
      VoiceSystem.speak(isComputer ? "Computador acertou!" : VoiceSystem.getRandomMessage('correctAnswers'), 'correct');

      // Efeito visual para acerto do jogador humano
      if (!isComputer) {
        createConfetti();
      }
    } else {
      // Resposta errada
      answers[selectedIndex].classList.add('wrong');
      answers[correctIndex].classList.add('correct');
      SoundSystem.playSound('wrong');

      GameState.streaks[playerIndex] = 0;
      GameState.doublePoints = false;

      const correctAnswer = answers[correctIndex].querySelector('.answer-content').textContent;
      const message = isComputer
        ? `Computador errou! Resposta certa: ${correctAnswer}`
        : `${playerName}, ${VoiceSystem.getRandomMessage('wrongAnswers')} Resposta certa: ${correctAnswer}`;

      showNotification(message, 'error');
      VoiceSystem.speak(isComputer ? "Computador errou!" : VoiceSystem.getRandomMessage('wrongAnswers'), 'wrong');

      if (GameState.mode === 'survival') {
        GameState.scores[playerIndex] = -999;
        showNotification(`âŒ ${playerName} foi ELIMINADO!`, 'error');
      }
    }

    setTimeout(nextTurn, 1500);
  }

  function nextTurn() {
    if (!GameState.gameActive) return;

    GameState.currentPlayer = (GameState.currentPlayer + 1) % GameState.players.length;

    // Verificar se hÃ¡ jogadores eliminados no modo survival
    if (GameState.mode === 'survival') {
      const alivePlayers = GameState.players.filter((_, i) => GameState.scores[i] > -999);
      if (alivePlayers.length <= 1) {
        endGame();
        return;
      }

      while (GameState.scores[GameState.currentPlayer] <= -999) {
        GameState.currentPlayer = (GameState.currentPlayer + 1) % GameState.players.length;
      }
    }

    // Verificar fim da rodada
    if (GameState.currentPlayer === 0) {
      GameState.currentRound++;
      if (GameState.currentRound > GameState.totalRounds) {
        endGame();
        return;
      }
    }

    updateScoreboard();
    loadQuestion();
  }

  function startTimer() {
    clearInterval(GameState.timerInterval);

    const timerFill = document.getElementById('timerFill');
    const timerText = document.getElementById('timerText');

    timerFill.style.width = '100%';
    timerText.textContent = `TEMPO: ${GameState.timer}s`;

    GameState.timerInterval = setInterval(() => {
      if (!GameState.gameActive || GameState.gamePaused) return;

      GameState.timer--;
      const percentage = (GameState.timer / 30) * 100;

      timerFill.style.width = `${Math.max(0, percentage)}%`;
      timerText.textContent = `TEMPO: ${Math.max(0, GameState.timer)}s`;

      if (GameState.timer <= 10) {
        timerFill.style.background = 'linear-gradient(90deg, var(--danger), #f87171)';
        timerText.style.color = 'var(--danger)';
        SoundSystem.playSound('timer');
      }

      if (GameState.timer <= 0) {
        timeUp();
      }
    }, 1000);
  }

  function timeUp() {
    clearInterval(GameState.timerInterval);
    SoundSystem.playSound('wrong');

    const playerName = GameState.players[GameState.currentPlayer];
    const isComputer = GameState.isSinglePlayer && GameState.currentPlayer === 1;

    const message = isComputer
      ? "Tempo esgotado para o computador! Resposta automÃ¡tica errada."
      : `TEMPO ESGOTADO! ${playerName} perdeu a vez.`;

    showNotification(message, 'warning');
    VoiceSystem.speak(VoiceSystem.getRandomMessage('timeUp'), 'wrong');

    if (GameState.mode === 'survival') {
      GameState.scores[GameState.currentPlayer] = -999;
      showNotification(`${playerName} foi ELIMINADO por tempo esgotado!`, 'error');
    }

    setTimeout(nextTurn, 1000);
  }

  function updateScoreboard() {
    const scoreList = document.getElementById('scoreList');

    const playerData = GameState.players.map((player, index) => ({
      name: player,
      score: GameState.scores[index],
      streak: GameState.streaks[index],
      isCurrent: index === GameState.currentPlayer,
      eliminated: GameState.scores[index] <= -999,
      isComputer: GameState.isSinglePlayer && index === 1
    }));

    // Ordenar por pontuaÃ§Ã£o
    playerData.sort((a, b) => {
      if (a.eliminated && !b.eliminated) return 1;
      if (!a.eliminated && b.eliminated) return -1;
      return b.score - a.score;
    });

    scoreList.innerHTML = playerData.map((player, rank) => {
      const medal = rank === 0 ? 'ğŸ¥‡' : rank === 1 ? 'ğŸ¥ˆ' : rank === 2 ? 'ğŸ¥‰' : 'ğŸ”¹';
      const streakBadge = player.streak >= 3 ? ` ğŸ”¥${player.streak}` : '';
      const currentBadge = player.isCurrent ? ' ğŸ®' : '';
      const computerBadge = player.isComputer ? ' ğŸ¤–' : '';

      return `
        <div class="score-item ${player.isCurrent ? 'current' : ''}" style="${player.eliminated ? 'opacity:0.5;text-decoration:line-through;' : ''}">
          <div class="score-player">
            ${medal} ${player.name}${computerBadge}${streakBadge}${currentBadge}
          </div>
          <div class="score-points">
            ${player.eliminated ? 'âŒ ELIMINADO' : `${player.score} pts`}
          </div>
        </div>
      `;
    }).join('');
  }

  function usePowerUp(type) {
    SoundSystem.playSound('correct');

    const playerIndex = GameState.currentPlayer;
    const powerUps = GameState.powerUps[playerIndex];

    if (!powerUps || powerUps[type] <= 0) {
      showNotification('âŒ VocÃª nÃ£o tem mais este power-up!', 'error');
      VoiceSystem.speak("Power-up nÃ£o disponÃ­vel!", 'wrong');
      return;
    }

    powerUps[type]--;

    const playerName = GameState.players[playerIndex];

    switch(type) {
      case 'help':
        const answers = document.querySelectorAll('.answer-option');
        const correctIndex = GameState.currentCorrectIndex;
        const wrongAnswers = Array.from(answers).filter((_, idx) => idx !== correctIndex);
        shuffleArray(wrongAnswers);

        wrongAnswers.slice(0, 2).forEach(el => {
          el.style.opacity = '0.3';
          el.style.pointerEvents = 'none';
          el.style.textDecoration = 'line-through';
        });

        showNotification(`â“ ${playerName} usou AJUDA DA FAMÃLIA! 2 respostas eliminadas.`, 'info');
        VoiceSystem.speak("Ajuda da famÃ­lia ativada!", 'excited');
        break;

      case 'time':
        GameState.timer += 15;
        showNotification(`â±ï¸ ${playerName} ganhou 15 SEGUNDOS EXTRAS!`, 'success');
        VoiceSystem.speak("Tempo extra ganho!", 'excited');
        break;

      case 'double':
        GameState.doublePoints = true;
        showNotification(`ğŸ’ ${playerName} ativou DUPLA PONTUAÃ‡ÃƒO!`, 'success');
        VoiceSystem.speak("Dupla pontuaÃ§Ã£o ativada!", 'excited');
        break;

      case 'skip':
        showNotification(`â­ï¸ ${playerName} PULOU esta pergunta!`, 'warning');
        VoiceSystem.speak("Pergunta pulada!", 'excited');
        clearInterval(GameState.timerInterval);
        setTimeout(nextTurn, 600);
        break;
    }

    // Atualizar display dos power-ups (sÃ³ para jogador humano)
    if (!GameState.isSinglePlayer || playerIndex === 0) {
      document.getElementById('helpBtn').innerHTML = `<i class="fas fa-life-ring"></i> AJUDA (${powerUps.help})`;
      document.getElementById('timeBtn').innerHTML = `<i class="fas fa-clock"></i> TEMPO (${powerUps.time})`;
      document.getElementById('doubleBtn').innerHTML = `<i class="fas fa-gem"></i> DUPLO (${powerUps.double})`;
      document.getElementById('skipBtn').innerHTML = `<i class="fas fa-forward"></i> PULAR (${powerUps.skip})`;
    }
  }

  function pauseGame() {
    SoundSystem.playSound('click');
    GameState.gamePaused = !GameState.gamePaused;

    if (GameState.gamePaused) {
      showNotification('â¸ï¸ JOGO PAUSADO', 'warning');
      VoiceSystem.speak("Jogo pausado.", 'calm');
      clearInterval(GameState.timerInterval);
    } else {
      showNotification('â–¶ï¸ JOGO RETOMADO', 'success');
      VoiceSystem.speak("Jogo retomado!", 'excited');
      startTimer();
    }
  }

  function showHint() {
    SoundSystem.playSound('click');
    const playerIndex = GameState.currentPlayer;

    if (GameState.scores[playerIndex] >= 3) {
      GameState.scores[playerIndex] -= 3;
      showNotification('ğŸ’¡ Dica usada! -3 pontos. Pense com calma!', 'info');
      VoiceSystem.speak("Dica ativada! Considere suas opÃ§Ãµes.", 'calm');
      updateScoreboard();
    } else {
      showNotification('âŒ Pontos insuficientes para dica!', 'error');
      VoiceSystem.speak("Pontos insuficientes para dica.", 'wrong');
    }
  }

  // ============================================
  // FIM DE JOGO E NAVEGAÃ‡ÃƒO
  // ============================================
  function endGame() {
    GameState.gameActive = false;
    clearInterval(GameState.timerInterval);
    SoundSystem.playSound('correct');

    // Encontrar vencedor(es)
    const maxScore = Math.max(...GameState.scores);
    const winners = GameState.players.filter((_, i) => GameState.scores[i] === maxScore && GameState.scores[i] > -999);

    // Salvar recorde
    if (winners.length === 1 && !(GameState.isSinglePlayer && winners[0] === 'Computador')) {
      saveRecord(maxScore, winners[0], GameState.mode, GameState.difficulty);
    }

    // Mostrar tela de resultados
    document.getElementById('gameScreen').classList.add('hidden');
    document.getElementById('resultsScreen').classList.remove('hidden');

    const winnerCrown = document.getElementById('winnerCrown');
    const winnerTitle = document.getElementById('winnerTitle');
    const winnerScore = document.getElementById('winnerScore');

    if (winners.length === 1) {
      winnerCrown.textContent = 'ğŸ‘‘';
      winnerTitle.innerHTML = GameState.isSinglePlayer && winners[0] === 'Computador'
        ? `ğŸ† VENCEDOR: <span style="color: var(--info);">COMPUTADOR ğŸ¤–</span> ğŸ†`
        : `ğŸ† CAMPEÃƒO: <span style="color: var(--warning);">${winners[0].toUpperCase()}</span> ğŸ†`;
      winnerScore.textContent = `Com ${maxScore} pontos!`;

      const message = GameState.isSinglePlayer && winners[0] === 'Computador'
        ? "O computador venceu! Tente novamente!"
        : `ParabÃ©ns ${winners[0]}! VocÃª venceu com ${maxScore} pontos!`;

      VoiceSystem.speak(message, 'excited');
    } else if (winners.length > 1) {
      winnerCrown.textContent = 'ğŸ‘‘ğŸ‘‘';
      winnerTitle.innerHTML = `ğŸ† EMPATE: <span style="color: var(--warning);">${winners.join(' e ').toUpperCase()}</span> ğŸ†`;
      winnerScore.textContent = `Com ${maxScore} pontos cada!`;
      VoiceSystem.speak(`Empate! Todos sÃ£o vencedores com ${maxScore} pontos!`, 'excited');
    } else {
      winnerCrown.textContent = 'ğŸ˜¢';
      winnerTitle.textContent = 'ğŸ® FIM DE JOGO';
      winnerScore.textContent = 'Todos foram eliminados!';
      VoiceSystem.speak("Fim de jogo! Todos foram eliminados.", 'wrong');
    }

    // Efeitos visuais
    createConfetti();
    showGameStats();
  }

  function createConfetti() {
    const colors = ['#f59e0b', '#3b82f6', '#10b981', '#8b5cf6', '#ec4899', '#ef4444'];
    for (let i = 0; i < 50; i++) {
      setTimeout(() => {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.cssText = `
          width: ${Math.random() * 16 + 8}px;
          height: ${Math.random() * 16 + 8}px;
          background: ${colors[Math.floor(Math.random() * colors.length)]};
          top: -50px;
          left: ${Math.random() * 100}vw;
          border-radius: ${Math.random() > 0.5 ? '50%' : '0'};
          animation: confettiRain ${Math.random() * 3 + 2}s linear forwards;
          opacity: 0.9;
          transform: rotate(${Math.random() * 360}deg);
        `;
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 5000);
      }, i * 20);
    }
  }

  function showGameStats() {
    const gameStats = document.getElementById('gameStats');
    const totalQuestions = GameState.usedQuestions.size;

    let statsHTML = `
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;">
        <div style="background: rgba(30,41,59,0.7); padding:20px; border-radius:15px;">
          <h4 style="color: var(--info); margin-bottom:10px;"><i class="fas fa-chart-line"></i> DESEMPENHO</h4>
          <p><strong>Total de Perguntas:</strong> ${totalQuestions}</p>
          <p><strong>Rodadas Jogadas:</strong> ${Math.max(0, GameState.currentRound - 1)}</p>
          <p><strong>Jogadores:</strong> ${GameState.players.length}</p>
        </div>

        <div style="background: rgba(30,41,59,0.7); padding:20px; border-radius:15px;">
          <h4 style="color: var(--info); margin-bottom:10px;"><i class="fas fa-gamepad"></i> JOGO</h4>
          <p><strong>Modo:</strong> ${GameState.isSinglePlayer ? '1 Jogador' : GameState.mode.toUpperCase()}</p>
          <p><strong>Dificuldade:</strong> ${GameState.difficulty.toUpperCase()}</p>
        </div>
      </div>
    `;

    gameStats.innerHTML = statsHTML;
  }

  function saveRecord(score, player, mode, difficulty) {
    const record = {
      score,
      player,
      mode: GameState.isSinglePlayer ? 'single' : mode,
      difficulty,
      date: new Date().toLocaleDateString('pt-BR'),
      timestamp: Date.now()
    };

    GameState.records.push(record);
    GameState.records.sort((a, b) => b.score - a.score);
    if (GameState.records.length > 10) GameState.records.length = 10;

    localStorage.setItem('familyShowRecords', JSON.stringify(GameState.records));
  }

  function backToMenu() {
    SoundSystem.playSound('click');
    GameState.gameActive = false;
    clearInterval(GameState.timerInterval);
    VoiceSystem.stop();

    document.getElementById('playerSetup').classList.add('hidden');
    document.getElementById('gameScreen').classList.add('hidden');
    document.getElementById('resultsScreen').classList.add('hidden');
    document.getElementById('welcomeScreen').classList.remove('hidden');
  }

  function rematch() {
    SoundSystem.playSound('correct');

    // Resetar pontuaÃ§Ãµes
    GameState.scores = GameState.scores.map(() => 0);
    GameState.streaks = GameState.streaks.map(() => 0);

    // Resetar power-ups (sÃ³ para jogadores humanos)
    GameState.powerUps = GameState.powerUps.map((p, i) =>
      (GameState.isSinglePlayer && i === 1) ? p : { help: 2, time: 1, double: 1, skip: 1 }
    );

    // Resetar jogo
    GameState.currentPlayer = 0;
    GameState.currentRound = 1;
    GameState.gameActive = true;
    GameState.usedQuestions.clear();
    GameState.doublePoints = false;
    GameState.timer = 30;

    // Voltar para tela do jogo
    document.getElementById('resultsScreen').classList.add('hidden');
    document.getElementById('gameScreen').classList.remove('hidden');

    updateScoreboard();

    VoiceSystem.speak("Revanche! Nova partida comeÃ§ando!", 'excited');
    setTimeout(loadQuestion, 1000);
  }

  function newGame() {
    backToMenu();
  }

  function showRecords() {
    SoundSystem.playSound('click');
    const hallOfFame = document.getElementById('hallOfFame');
    const records = GameState.records || [];

    if (records.length === 0) {
      hallOfFame.innerHTML = '<p style="text-align:center; padding:40px; color: var(--warning);">Nenhum recorde ainda! Seja o primeiro!</p>';
    } else {
      hallOfFame.innerHTML = `
        <div class="scores-list">
          ${records.map((r, i) => {
            const medal = i === 0 ? 'ğŸ¥‡' : i === 1 ? 'ğŸ¥ˆ' : i === 2 ? 'ğŸ¥‰' : `${i + 1}.`;
            const modeText = r.mode === 'single' ? '1 Jogador' : r.mode;
            return `
              <div class="score-item" style="margin-bottom:10px;">
                <div class="score-player">${medal} ${r.player}
                  <small style="color:#94a3b8; font-size:0.9rem;">(${modeText} - ${r.difficulty})</small>
                </div>
                <div class="score-points">${r.score} pts</div>
                <div style="font-size:0.8rem; color:#64748b;">${r.date}</div>
              </div>
            `;
          }).join('')}
        </div>
      `;
    }

    document.getElementById('recordsModal').style.display = 'flex';
  }

  function showQuickStats() {
    SoundSystem.playSound('click');
    const statsList = document.getElementById('statsList');
    const quickStats = document.getElementById('quickStats');
    const records = GameState.records || [];

    if (records.length === 0) {
      quickStats.style.display = 'none';
      return;
    }

    quickStats.style.display = 'block';
    const top3 = records.slice(0, 3);

    statsList.innerHTML = top3.map((r, i) => {
      const medal = ['ğŸ¥‡', 'ğŸ¥ˆ', 'ğŸ¥‰'][i];
      const modeText = r.mode === 'single' ? '1 Jogador' : r.mode;
      return `
        <div style="display:flex;justify-content:space-between;align-items:center;padding:15px;margin:10px 0;background:rgba(30,41,59,0.7);border-radius:12px;">
          <div><strong>${medal} ${r.player}</strong><br><small>${modeText} â€¢ ${r.date}</small></div>
          <div style="font-size:1.5rem;font-weight:bold;color:var(--warning);">${r.score}</div>
        </div>
      `;
    }).join('');
  }

  function showInstructions() {
    SoundSystem.playSound('click');
    document.getElementById('instructionsModal').style.display = 'flex';
  }

  function closeModal(modalId) {
    SoundSystem.playSound('click');
    document.getElementById(modalId).style.display = 'none';
  }

  function confirmQuit() {
    if (confirm('Tem certeza que deseja sair? Todo o progresso serÃ¡ perdido.')) {
      backToMenu();
    }
  }

  function shareResults() {
    SoundSystem.playSound('click');
    const maxScore = Math.max(...GameState.scores);
    const winner = GameState.players[GameState.scores.indexOf(maxScore)] || 'Todos';
    const modeText = GameState.isSinglePlayer ? 'Modo 1 Jogador' : `Modo: ${GameState.mode.toUpperCase()}`;
    const shareText = `ğŸ® SHOW DA FAMÃLIA! ${winner} venceu com ${maxScore} pontos! ${modeText} â€¢ Dificuldade: ${GameState.difficulty.toUpperCase()}`;

    if (navigator.share) {
      navigator.share({ title: 'Show da FamÃ­lia', text: shareText });
    } else {
      navigator.clipboard.writeText(shareText)
        .then(() => showNotification('ğŸ“‹ Copiado para a Ã¡rea de transferÃªncia!', 'success'))
        .catch(() => showNotification('âŒ NÃ£o foi possÃ­vel copiar', 'error'));
    }
  }

  // ============================================
  // INICIALIZAR JOGO
  // ============================================
  document.addEventListener('DOMContentLoaded', () => {
    // Configurar botÃµes de controle
    document.getElementById('audioToggle').addEventListener('click', toggleAudio);
    document.getElementById('voiceToggle').addEventListener('click', toggleVoice);

    // Adicionar listener para fechar modais
    document.querySelectorAll('.modal-overlay').forEach(modal => {
      modal.addEventListener('click', function(e) {
        if (e.target === this) {
          this.style.display = 'none';
          SoundSystem.playSound('click');
        }
      });
    });

    // Inicializar jogo
    initGame();
  });
</script>
</body>
</html>
